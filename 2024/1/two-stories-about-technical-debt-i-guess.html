<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Two stories about technical debt, I guess | Island94.org</title>

  <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="KAa7b1NWRkQte5cHfia0ZB-LzL4bdhcGSvbN5CWWkSwqVDr-UHuWZSzFEuF4VD8irkink7RPLx49mqmxufVdfw" />
  

  <link rel="alternate" type="application/rss+xml" title="Island94.org" href="https://island94.org/feed.xml">

  <link rel="stylesheet" href="/assets/application-2d0874f724227ac5e099df0bd7cfeb3a4fc86f9358ede0d8216b193fa7a7da99.css" data-turbo-track="reload" />
  <script src="/assets/main-57967bd29e3a27ba3099fee5997ee6ec8c59ef209085f949b6eac799b21915b0.js"></script>

  <script>
    let theme = localStorage.getItem('theme');
    if (!["light", "dark"].includes(theme)) {
      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    document.documentElement.setAttribute('data-bs-theme', theme);
  </script>

  
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light mb-2 flex-column">
  <div class="container">
    <a class="navbar-brand" href="/">Island94.org</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="/archives">Archives</a></li>
        <li class="nav-item"><a class="nav-link" href="/tags">Tags</a></li>
        <li class="nav-item"><a class="nav-link" href="/feed.xml">RSS Feed <i class="bi bi-rss-fill"></i></a></li>

        <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
          <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-light-500"></div>
          <hr class="d-lg-none my-0 text-light-500">
        </li>

        <li class="nav-item dropdown">
          <button id="bs-theme" class="btn btn-link nav-link dropdown-toggle" type="button" aria-expanded="false" data-bs-toggle="dropdown"  aria-label="Theme (Auto)">
            <i data-bs-theme-active-icon class="bi bi-circle-half"></i>
            <span data-bs-theme-label>Theme</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bs-theme-text">
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="light" aria-pressed="false">
                <i class="bi bi-sun"></i> Light
              </button>
            </li>
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="dark" aria-pressed="false">
                <i class="bi bi-moon-stars-fill"></i> Dark
              </button>
            </li>
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="auto" aria-pressed="true">
                <i class="bi bi-circle-half"></i> Auto
              </button>
            </li>
          </ul>
        </li>

      </ul>

      <form id="search" class="d-flex" action="/search" method="get">
        <input id="search-box" class="form-control search" role="search" name="q" placeholder="Search" aria-label="Search" results="0" type="text">
        <button class="visually-hidden" type="submit">Search</button>
      </form>
    </div>
  </div>
  <div class="container">
    <div class="text-muted fst-italic">
      â€” Ben Sheldon's personal blog and <a href="/2012/04/A-Commonplace-Book.html">commonplace book</a>.
    </div>
  </div>
</nav>


  <div class="container container-body">
    
<div class="container container-body">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2024/1/two-stories-about-technical-debt-i-guess"><p>Two stories about technical debt, I guess</p>
</a>
    </h1>
    <p class="post-meta text-muted">
        <time datetime="2024-01-18T09:37:00-08:00" itemprop="datePublished">January 18, 2024</time>

    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>One activity I donâ€™t enjoy very much: griping about â€œtechnical debtâ€; that label just never seems descriptive enough. And the things people gripe about seem to mostly fall into:</p>

<ul>
  <li>Deferred maintenance: we havenâ€™t updated to the latest version of X, or itâ€™s written in A language/framework but now everyone is much more familiar with B, or we know M raises an exception at N when they O while P</li>
  <li>Just not the quality we expect, <a href="https://cutlefish.substack.com/p/tbm-267-debt-and-bridge-building">because <em>reasons</em></a>. Itâ€™s ok, weâ€™re all winging it.</li>
</ul>

<p>â€¦and those categories crowds out the real sweaty palms stuff, the â€œwe did do a good job but we know more nowâ€ that I think is the real deal. I can talk about that.</p>

<p>Iâ€™ve never found the particular post/video/talk? again (Iâ€™ve looked!), but it described technical debt as like: the distance between the current understanding of the business domain and the technical implementationâ€™s modeling of the business domain. It had a chart that has stuck in my mind; it looked something like this:</p>

<p><a href="/uploads/2024-01/technical-debt.png"><img src="/uploads/2024-01/technical-debt.png" alt="A chart that shows the coming together and divergence of business and technical domain knowledge" /></a></p>

<p>That definition of â€œtechnical debtâ€ clicked for me. For myself and the high performing teams Iâ€™ve worked with, weâ€™re most productive, pushing value, when weâ€™re asking ourselves: does this make sense? Given what we know now, and what we know about where weâ€™re going, do the objects and their interactions conceptually map to how the business is being talked about by the non-technical people? Are we adapting <a href="https://codeforamerica.org/news/engineering-principles-at-code-for-america/#:~:text=Optimize%20for%20speed%20of%20learning">at the same rate weâ€™re learning</a>? If yes, weâ€™re golden; if sorta with some tweaks thatâ€™s good; when noâ€¦ thatâ€™s bad, disordered, schismatic: carrying a burden of always translating between the language and models in the technical system and the language and concepts in the business domain. That sucks!</p>

<p>Aside: Thereâ€™s a funny/terrifying/random thing this makes me think of: <a href="https://www.vulture.com/article/an-oral-history-of-disney-the-emperors-new-groove.html">â€œWeâ€™ll Never Make That Kind of Movie Againâ€: An oral history of The Emperorâ€™s New Groove, a raucous Disney animated film that almost never happened</a>. One of the screenwriters describes the process of making an animated film:</p>

<blockquote>
  <p>In a normal four-year process, youâ€™ve got meetings, youâ€™ve got development people going, â€œWhat if the girl was a boy? What if the bird was a flower?â€ And then you have to run all those ideas.</p>
</blockquote>

<p>The software projects Iâ€™ve worked on are a conveyor belt of â€œWhat if the bird was a flower?â€ decision making and idea running. Extend that object, repurpose this method, bolt on that, change this, swap that, rename this, better leave a comment on that. When itâ€™s going well, it doesnâ€™t matter that it was a bird yesterday and a flower todayâ€¦ as long as itâ€™s not retaining so much birdliness that it compromises its flowerability. Itâ€™s when youâ€™re having to remember and callback â€œhey, well, um, it <em>was</em> once a bird, fyi, thatâ€™s why itâ€™s so much trouble to do this flower stuffâ€, then youâ€™re sunk.</p>

<p>Itâ€™s a bad sign when forward development requires telling stories about the past.</p>

<p>Hereâ€™s two storiesâ€¦</p>

<h3 id="the-isolated-component">The isolated component</h3>

<p>When I was working at a website hosting startup, we had one component that I could just never get the support to integrate into the larger application. It was the form that would create a new website project for the user.  When the startup began, the original technical architecture was a bunch of interlinked but separated components: User Registration, User Account Management, Website Creation, Website Management, Organization Management, Agency/Reseller Management, etc. It made sense early as the business was figuring out what worked as a business, and then during my tenure we brought those components together into a unified application. Well, almost all of them.</p>

<p>There was a lot of give and take in the product integration; sometimes me and the other engineers would just <em>do it</em> and other times weâ€™d defer it until there was a particular feature that necessitated it, and then weâ€™d include that extra work in our estimates. It frequently took a <a href="https://speakerdeck.com/bensheldon/real-world-dashboard">couple passes</a> of <a href="https://speakerdeck.com/bensheldon/dashboard-performance-brownbag">code cleanup</a> and bringing it onto the design system, and that was ok. Thatâ€™s the job!</p>

<p>That last, last, last component of Website Creation eluded us though, and it was outside our control. At that point, development was transitioning from â€œengineering ledâ€ to â€œproduct management and design ledâ€ and I had been instructed that engineering couldnâ€™t make any product changes unless they were connected to an active PRD (Product Requirements Document) controlled by the PMs.</p>

<p>There was plenty of demand to make changes to Website Creation: smooth out the first-time account registration flow into creating a website; allow the user to do some activities in parallel while the website was spinning up like inviting team members or perusing billing levels; decouple the concept of â€œa website is a marketing strategyâ€ from â€œupload your code and have some containers and a load balancer provisionedâ€ so that non-developers could still <em>plan</em> a website without invoking all the technical bits.</p>

<p>But not enough appetite to get it done.</p>

<p>Of â€œtechnical debtâ€: everyone except our little engineering team maintaining the frontend didnâ€™t think anything special of Website Creation. It wasnâ€™t obvious unless you carefully watched for the hard-browser refresh, or noticed the navigation bar change slightly. Conceptually it was a unified product (heck, I even remember a product launch called â€œOneâ€), but the work hadnâ€™t yet been done on the application side and we engineers carried the burden.</p>

<p>It was funny because every time a product change that touched Website creation was discussed, the same thing happened:</p>

<p><strong>PM:</strong> Your effort estimate seems really high. Whatâ€™s going on?<br />
<br /><strong>Me:</strong> Well, this involves Website Creation and itâ€™s still its own component and canâ€™t access any of those other systems that are necessary to build the feature. Weâ€™d need to bring it into the rest of the application. Itâ€™s definitely possible! Thereâ€™s a few open questions with product and design implications, so weâ€™d need to work together on that.<br />
<br /><strong>PM:</strong> Oh, well, huh, I didnâ€™t expect that. Hmm, we donâ€™t have the bandwidth for all that. Letâ€™s pass on it for now.</p>

<p>This happened multiple times! It was weird too because the particular project being planned would be spiked, and then the engineering team would have to wait around while a new project was spun up and that likely took just as long as it would have taken to do the work on the Website Creation component. If I hadnâ€™t been explicitly told to sit on my hands otherwise, I would have probably just done this as off-the-books, shucks-I-didnâ€™t-think-it-would-be-a-big-deal, shadow-work.</p>

<p>It never got done during my tenure; I think they later decided the problem was that the whole thing wasnâ€™t written in React ğŸ¤·</p>

<h3 id="the-campaign-message">The campaign message</h3>

<p>When I was a developer on GetCalFresh, the functionality with perpetually unexpected estimations was â€œCampaign Messagesâ€.</p>

<p>GetCalFresh would help people apply for their initial food stamp application, at which point it would be sent to the applicantâ€™s county for processing. Over the next 14 to 28 days the county would schedule an in-person or telephone interview, and request various documents like pay stubs and rental leases, and the applicant would have to navigate all of that. (The administrative state <a href="https://daveguarino.substack.com/p/state-snap-agencies-are-overloaded">suuuuucks</a>!) To help, GetCalFresh would send a sequence of email and/or SMS messages to the applicant over this time period explaining what was needed and what to expect next. A messaging campaign, yâ€™know, of â€œcampaign messagesâ€</p>

<p>When GetCalFresh was first laid down in code, there were two â€œtypesâ€ of campaign messages: <code>General</code> and <code>Expedited</code>. Under a couple of different circumstances, if an applicant is homeless or at risk of being homeless, or has no cash-on-hand to purchase food, their application is eligible for expedited processing and thus weâ€™d send them a message sequence over ~14 days; everyone else would receive a message sequence over ~28 days. We were sending the same messages, just on a different schedule.</p>

<p>So when we engineers were then asked to customize a message, like â€œif the applicant is a student, add this description about their special eligibilityâ€â€¦ we just <code>if/elsed</code> it on in there. Oh, now this county is piloting a special process, letâ€™s make a little carve out for them too and swap this message. Still, same sequence, just tweaks, right? Well, all those small tweaks and carve-outs build up, and all of a sudden weâ€™re having to ask â€œok, so you want us to rewrite this one itty bitty message, well we also need you to specify what it should be for students, who do and donâ€™t qualify for County Xâ€™s special process tooâ€. It got twistier and twistier. And when requests like â€œdonâ€™t send that message in this special circumstanceâ€ or â€œadd a totally new message but just as this one-offâ€ came in, weâ€™d be like â€œtotally possible! and thatâ€™s gonna take more work than you think!â€</p>

<p>GetCalFresh had the best Product Managers I have ever worked with in my life, and we still got locked into a similar loop as the last story: weâ€™d do our estimation with the PMs, it exposed the fruit hung more high than low, and the change would be deprioritized. I think the PMs got it, but the challenge was that the other folks, client support and the folks coordinating with the counties and the datascience team, would be like â€œwe heard that Engineering doesnâ€™t want to build it.â€ So weird! Not engineeringâ€™s call! (Aside: I spent so much time coaching non-technical stakeholders on how to work in a PM-led system, but always more coaching to do.)</p>

<p>I remember making a Google Doc to analyze why and explain how the system we initially designed for (same sequence of messages with different schedules) didnâ€™t match our understanding of the problem today. The doc listed out all of the different reasons we knew of why we might customize the message. It was at least 10 bullet points. And there were a lot of other learnings too: initially we designed around customizing for just 3 major county systems (State Automated Welfare Systems - SAWS), but later found ourselves doing county-by-county customizations (California has 52 counties). I advocated for configuring each county in its own object despite the <em>scale</em> brainworms demanding a singular and infinitely abstracted model (I call these things â€œspreadsheet problemsâ€ when you can simply list the entire domain in a spreadsheet).</p>

<p>Of â€œtechnical debtâ€, I still can replay in my brain the deliberate mental spatial shift of imagining the campaign model as a 2-column array (General and Expedited) with 10+ rows of logic shifts and then flopping it onto its side to make a change. All that mental context has a huge carrying cost that all of us had to budget for when making a change.</p>

<p>During my tenure, we never did the significant reworking to how campaign messages were implemented, though some bold colleagues did their best to make changes as safe and simple as possible with DSLs and test macros. Thank you! ğŸ™</p>

<h3 id="thats-it">Thatâ€™s it</h3>

<p>Sorry, no great lessons here. Just stories to share (<a href="https://island94.org/2024/01/recently#:~:text=try%20to%20see%20it%20as%20a%20funny%20story">â€œideally youâ€™d try to see it as a funny story you can tell friends rather than a hurtful snub that needs to bother youâ€</a>) I mentioned coaching folks on working with PMs, and I think the frequent advice I gave non-technical folks probably holds true for engineers too when asking:</p>

<p><em>Always have your top 3 ranked work items ready to go when talking to decision makers (the PM?). Donâ€™t bring new stuff unless it changes those top 3.</em></p>

<p>(I mean sure, share context and adapt, but allow yourself no doubt that youâ€™veâ€™ clearly and consistently communicated what your top priorities are before they get dumped in with everyone elseâ€™s.)</p>

<p>(But also, if youâ€™re an engineer and you can and no one is breathing down your neck, simply get it done and celebrate. The PM doesnâ€™t have to lead everything. You can do it! ğŸ‘)</p>

  </div>
</article>


  <div class="card my-4">
    <div class="card-body">
      Discuss this with me on <a href="https://twitter.com/bensheldon"><i class="bi bi-twitter"></i> Twitter</a>
      or suggest a
      <a href="https://github.com/bensheldon/island94.org/blob/main/_posts/2024-01-18-two-stories-about-technical-debt-i-guess.md"><i class="bi bi-github"></i>
        change</a>.
    </div>
    </div>
  </div>
</div>

  </div>

</body>
</html>
