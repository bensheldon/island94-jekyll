<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/assets/stylesheets/main.css">
  <script src="/assets/javascripts/main.js"></script>

  <title>Island94.org</title>
  <meta name="description" content="A Lost and Found
">

  <link rel="canonical" href="https://island94.org/page/8/">

  <link rel="alternate" type="application/rss+xml" title="Island94.org Posts" href="https://island94.org/feed.xml">
  <link rel="alternate" type="application/rss+xml" title="Island94.org Book Reviews" href="https://island94.org/books.xml">

  
    <meta name="robots" content="noindex, follow">
  
</head>


  <body>

    <nav class="navbar navbar-expand-lg navbar-light mb-2 flex-column">
  <div class="container">
    <a class="navbar-brand" href="/">Island94.org</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link " href="/about/">About</a></li>
        <li class="nav-item"><a class="nav-link " href="/archives/">Archives</a></li>
        <li class="nav-item"><a class="nav-link " href="/books/">Books</a></li>
        <li class="nav-item"><a class="nav-link " href="/tags/">Tags</a></li>
        <li class="nav-item"><a class="nav-link" href="/feed.xml">RSS Feed <i class="bi bi-rss-fill"></i></a></li>

        <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
          <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-light-500"></div>
          <hr class="d-lg-none my-0 text-light-500">
        </li>

        <li class="nav-item dropdown">
          <button id="bd-theme" class="btn btn-link nav-link dropdown-toggle" type="button" aria-expanded="false" data-bs-toggle="dropdown"  aria-label="Theme (Auto)">
            <i data-bd-theme-active-icon class="bi bi-circle-half"></i>
            <span data-bd-theme-label>Theme</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="light" aria-pressed="false">
                <i class="bi bi-sun"></i> Light
              </button>
            </li>
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="dark" aria-pressed="false">
                <i class="bi bi-moon-stars-fill"></i> Dark
              </button>
            </li>
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="auto" aria-pressed="true">
                <i class="bi bi-circle-half"></i> Auto
              </button>
            </li>
          </ul>
        </li>

      </ul>

      <form id="search" class="d-flex" action="/search" method="get">
        <input id="search-box" class="form-control search" role="search" name="q" placeholder="Search" aria-label="Search" results="0" type="text">
        <button class="visually-hidden" type="submit">Search</button>
      </form>
    </div>
  </div>
  <div class="container">
    <div class="text-muted fst-italic">
      — Ben Sheldon's personal blog and <a href="/2012/04/A-Commonplace-Book.html">commonplace book</a>.
    </div>
  </div>
</nav>


    <div class="container container-body">
      <div class="home">
  
    

<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    
      <li class="page-item"><a href="/page/7/" class="page-link"><span aria-hidden="true">&larr; </span>Newer</a></li>
    

    <li class="page-item disabled"><span class="page-link">Page 8 of 67</span></li>

    
      <li class="page-item"><a href="/page/9/" class="page-link">Older<span aria-hidden="true"> &rarr;</span></a></li>
    
  </ul>
</nav>


<hr>


  

  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/11/conflict-in-the-matrix"><p>Conflict in the matrix</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-11-06T00:17:00+00:00" itemprop="datePublished">November 6, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>From Apenwarr’s <a href="https://apenwarr.ca/log/20190926">“What do executives do, anyway?”</a>:</p>

<blockquote>

  <p>To paraphrase the book [High Output Management, by Andy Grove], the job of an executive is: to define and enforce culture and values for their whole organization, and to ratify good decisions.</p>

  <p>That’s all.</p>

  <p>Not to decide. Not to break ties. Not to set strategy. Not to be the expert on every, or any topic. Just to sit in the room while the right people make good decisions in alignment with their values. And if they do, to endorse it. And if they don’t, to send them back to try again.</p>

  <p>There’s even an algorithm for this.</p>

  <p>It seems too easy to be real. For any disagreement, identify the lead person on each side. Then, identify the lowest executive in the corporate hierarchy that both leads report into (in the extreme case, this is the CEO). Set up a meeting between the three of them. At the meeting, the two leads will present the one, correct decision that they have agreed upon. The executive will sit there, listen, and ratify it.</p>

  <p>But… wait. If the decision is already made before the meeting, why do we need the meeting? Because the right decision might not happen without the existence of that meeting. The executive gives formal weight to a major decision. The executive holds the two disagreeing leads responsible: they must figure out not what’s best for them, but what’s best for the company. They can’t pull rank. They can’t cheat. They have to present their answer to a person who cares about both of their groups equally. And they want to look good, because that person is their boss! This puts a lot of pressure on people to do the right thing.</p>

</blockquote>

<p>From HBR’s <a href="https://hbr.org/1978/05/problems-of-matrix-organizations">“Problems of Matrix Organizations”</a>:</p>

<blockquote>

  <p>Another possible source of decision strangulation in matrix organizations occurs when managers frequently or constantly refer decisions up the dual chain of command. Seeing that one advantage of the conventional single chain of command is that two disagreeing peers can go to their shared boss for a resolution, managers unfamiliar with the matrix worry about this problem almost more than any other. They look at a matrix and realize that the nearest shared boss might be the CEO, who could be five or six echelons up. They realize that not too many problems can be pushed up to the CEO for resolution without creating the ultimate in information overload. So, they think, will not the inevitable disagreement lead to a tremendous pileup of unresolved conflict?</p>

  <p>Certainly, this can happen in a malfunctioning matrix. Whether it does happen depends primarily on the depth of understanding that exists about required matrix behavior on the part of managers in the dual structure. Let us envision the following scene: a manager with two bosses gets sharply conflicting instructions from his product and his functional bosses. When he tries to reconcile his instructions without success, he quite properly asks for a session with his two bosses to resolve the matter. The three people meet, but the discussion bogs down, no resolution is reached, and neither boss gives way.</p>

  <p>The two bosses then appeal the problem up a level to their respective superiors in each of the two chains of command. This is the critical step. If the two superiors properly understand matrix behavior, they will first ascertain whether the dispute reflects an unresolved broader policy issue. If it does not, they know their proper step is to teach their subordinates to resolve the problem themselves—not to solve it for them. In short, they would not let the unresolved problem escalate, but would force it back to the proper level for solution, and insist that the solution be found promptly.</p>

  <p>Often, conflict cannot be resolved; it can, however, be managed, which it must be if the matrix is to work. Any other course of action would represent management’s failure to comprehend the essential nature of the design.</p>

</blockquote>

<p>Lastly, <a href="https://komoroske.com/slime-mold/">Alex Komoroske’s deck on Slime Molds</a> is good.</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/10/behaving-like-the-character-in-a-story"><p>Behaving like the character in a story</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-10-11T19:14:00+00:00" itemprop="datePublished">October 11, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I enjoyed reading Robert Kolker’s <a href="https://www.nytimes.com/2021/10/05/magazine/dorland-v-larson.html">“Who Is the Bad Art Friend?”</a>, specifically about the non-symmetric relationships of fiction and inspiration.</p>

<blockquote>
  <p>Larson’s biggest frustration with Dorland’s accusations was that they stole attention away from everything she’d been trying to accomplish with this story. “You haven’t asked me one question about the source of inspiration in my story that has to do with alcoholism, that has to do with the Chinese American experience. It’s extremely selective and untrue to pin a source of a story on just one thing. And this is what fiction writers know.” To ask if her story is about Dorland is, Larson argues, not only completely beside the point, but ridiculous. “I have no idea what Dawn is thinking. I don’t, and that’s not my job to know. All I can tell you about is how it prompted my imagination.”</p>

  <p>…</p>

  <p>When Larson discusses “The Kindest” now, the idea that it’s about a kidney donation at all seems almost irrelevant. If that hadn’t formed the story’s pretext, she believes, it would have been something else. “It’s like saying that ‘Moby-Dick’ is a book about whales,” she said. As for owing Dorland a heads-up about the use of that donation, Larson becomes more indignant, stating that no artist has any such responsibility. “If I walk past my neighbor and he’s planting petunias in the garden, and I think, Oh, it would be really interesting to include a character in my story who is planting petunias in the garden, do I have to go inform him because he’s my neighbor, especially if I’m still trying to figure out what it is I want to say in the story? I just couldn’t disagree more.”</p>

  <p>…</p>

  <p>“[Dorland] might behave like the character in my story,” [Larsen] said. “But that doesn’t mean that the character in my story is behaving like [Dorland].”</p>
</blockquote>

<p><a href="https://captainawkward.com/2021/10/11/1351-can-i-use-my-exs-pseudonym-in-my-novel/">Captain Awkward</a> also had memorable advice:</p>

<blockquote>
  <p>Creatively speaking, I think you can generally write whatever you want about whoever you want. You do not owe people flattering portrayals in your fiction and you don’t owe the world a fair hearing of both sides. Even if you’re writing memoir, the expectation is that you’ll write the truth about your own experiences and recollections of events. So, when it’s just you and a blank page that nobody else will see? Name names. Settle scores. Spill some beans. Layer in all the carefully hoarded observations and details you’ve been saving up. You don’t have to solve publishing problems right this second, so feed the fire in your belly with your ex’s pet name for himself if that’s what gets it done; spite is motivating. You can always pull up a name generator later when you need to.</p>

  <p>Ethically speaking, being free to write whatever you want does not mean being free of consequences from what you wrote. If you include recognizable details about real people in your published writing, fictional or otherwise, if you disclose confidential information about them (like mental health diagnoses), assume that somebody will connect the dots, and assume that the people you wrote about will eventually feel some kind of way about it. They may not have grounds to sue you, but they might think you are a bad person or a lazy artist, and they might tell their own stories where you are not the hero.</p>
</blockquote>


  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/10/til-detecting-block-returns-in-ruby"><p>TIL: Detecting block returns in Ruby</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-10-11T19:01:00+00:00" itemprop="datePublished">October 11, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I was doing some research on introspecting Ruby on Rails database transactions for a <a href="https://www.reddit.com/r/ruby/comments/q54515/comment/hg9dzdc/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3">Reddit thread</a>, and came across this <a href="https://github.com/rails/rails/pull/29333">Rails PR</a> that had some new Ruby behavior for me: detecting an early <code class="language-plaintext highlighter-rouge">return</code> from a block.</p>

<p>Some background: A Ruby language feature, that can frequently surprise people, is that using <code class="language-plaintext highlighter-rouge">return</code> within a Ruby block will return not only from the block itself, but also from the block’s caller too. Using <code class="language-plaintext highlighter-rouge">next</code> is really the only truly safe way to interrupt a block early; even <code class="language-plaintext highlighter-rouge">break</code> can be troublesome if the block is called by an enumerator. Also, <code class="language-plaintext highlighter-rouge">next</code> can take a return value too, just like <code class="language-plaintext highlighter-rouge">return</code> e.g. <code class="language-plaintext highlighter-rouge">next my_value</code>.</p>

<p>I found the Rails PR interesting, because it has a method for detecting and warning on an early return. Here’s a simplified example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">some_method</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="n">block</span><span class="p">.</span><span class="nf">call</span>
  <span class="n">completed</span> <span class="o">=</span> <span class="kp">true</span> <span class="c1"># won't be called if the block returns early</span>
<span class="k">ensure</span>
  <span class="k">if</span> <span class="n">completed</span>
    <span class="nb">puts</span> <span class="s2">"ok"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"returned early"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">some_method</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span> <span class="c1"># =&gt; "returned early"</span>
<span class="n">some_method</span> <span class="p">{</span> <span class="k">next</span> <span class="p">}</span> <span class="c1"># =&gt; "ok"</span>
</code></pre></div></div>

<p>This works because the methods <code class="language-plaintext highlighter-rouge">ensure</code> block will always be called, even if <code class="language-plaintext highlighter-rouge">#some_method</code> returns early. That was a novel implementation for me.</p>


  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/09/home-buyer-letter"><p>Home buyer letter</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-09-14T19:02:00+00:00" itemprop="datePublished">September 14, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Having now successfully purchased a home in San Francisco, I have had friends asked me for resources. This was the letter we sent to the seller, which is <em>very</em> SF, but also the energy to bring. I also learned that these letters are waning because they are biased af.</p>

<blockquote>

  <p>Dear [seller],</p>

  <p>Your home at [street address] is the right fit for us, our two cats, and (hopefully) our future family. We love the long layout, high ceilings (we’re both tall) and sunny patio, and look forward to hosting friends for Sunday brunch someday.</p>

  <p>We’re rooted in the city through the South End Rowing Club, St. Francis Lutheran Church, supporting the YMCA, kickstarting local businesses like Andytown coffee, and working at tech companies and nonprofits. Ben worked for three years just around the corner at California and Grant, and Angelina has worked at numerous tech companies around Union Square and SOMA. We love the quiet contrast of Nob Hill against the rest of downtown San Francisco.</p>

  <p>We see SF as a long term home and [street address] as a homebase for work and play: swimming and rowing on the SF Bay, and wine trips up to Napa and Sonoma too. Your home would have the perfect commute for Ben, walking down the hill to his nonprofit job at [organization] where he builds technology to help people apply for food stamps, remove marijuana convictions from criminal records, and improve how government delivers services to those who need them most. And it’s a short walk for Angelina to the [company] Shuttle or Downtown SF [company] office where she does business development for maps and location technology in use around the world.</p>

  <p>Your home would provide the greatest fit for us as we aim to continue to contribute to the fabric of the city, where we hope to raise a family and be active in the community. We aim to take great care of an already-loved property while advocating for a neighborhood that supports all members throughout the growth of our city.</p>

  <p>Our offer is fair given the condition, amenities and comparable sales, and we aim for being the best buyer to steward this home and the neighborhood. We look forward to your consideration of our offer for [street address].</p>

  <p>Sincerely,<br />
Ben and Angelina</p>

</blockquote>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/07/goodjob-whats-new-v1.12.0"><p>GoodJob, what’s new: Cron, concurrency controls, and a dashboard demo (v1.12.0)</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-07-27T13:50:00+00:00" itemprop="datePublished">July 27, 2021</time>
      
      


  

  

  • Tagged <a href="/tags/#goodjob">GoodJob</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>This is a quick roundup of what’s new with GoodJob v1.12.0 since the last update published for <a href="https://island94.org/2021/01/goodjob-1-4-jruby-compatibility-and-more">GoodJob v1.9</a>.</p>

<p>GoodJob ( <a href="https://github.com/bensheldon/good_job">github</a> ) is a multithreaded, Postgres-based, ActiveJob backend for Ruby on Rails. If you’re new to GoodJob, read the  <a href="https://island94.org/2020/07/introducing-goodjob-1-0">introductory blog post</a>.</p>

<p><em>For further details on the following updates, check out GoodJob’s <a href="https://github.com/bensheldon/good_job/blob/main/CHANGELOG.md">Changelog</a> or <a href="https://github.com/bensheldon/good_job/blob/main/README.md">Readme</a>.</em></p>

<h3 id="cron-like-replacement-for-repeatingrecurring-jobs">Cron-like replacement for repeating/recurring jobs</h3>

<p>GoodJob now ships with a <a href="https://github.com/bensheldon/good_job#cron-style-repeatingrecurring-jobs">cron-like replacement for repeating/recurring jobs</a>. The cron-like process runs either via the CLI, or <code class="language-plaintext highlighter-rouge">async</code> within the web server process. Repeating jobs can be scheduled to the second, powered by the <a href="https://github.com/floraison/fugit">Fugit</a> gem. Here’s what the configuration looks like:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/environments/application.rb or a specific environment e.g. production.rb</span>

<span class="c1"># Enable cron in this process; e.g. only run on the first Heroku worker process</span>
<span class="n">config</span><span class="p">.</span><span class="nf">good_job</span><span class="p">.</span><span class="nf">enable_cron</span> <span class="o">=</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'DYNO'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'worker.1'</span> <span class="c1"># or `true` or via $GOOD_JOB_ENABLE_CRON</span>

<span class="c1"># Configure cron with a hash that has a unique key for each recurring job</span>
<span class="n">config</span><span class="p">.</span><span class="nf">good_job</span><span class="p">.</span><span class="nf">cron</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1"># Every 15 minutes, enqueue `ExampleJob.set(priority: -10).perform_later(52, name: "Alice")`</span>
  <span class="ss">frequent_task: </span><span class="p">{</span> <span class="c1"># each recurring job must have a unique key</span>
    <span class="ss">cron: </span><span class="s2">"*/15 * * * *"</span><span class="p">,</span> <span class="c1"># cron-style scheduling format by fugit gem</span>
    <span class="ss">class: </span><span class="s2">"ExampleJob"</span><span class="p">,</span> <span class="c1"># reference the Job class with a string</span>
    <span class="ss">args: </span><span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="p">{</span> <span class="ss">name: </span><span class="s2">"Alice"</span> <span class="p">}],</span> <span class="c1"># arguments to pass; can also be a proc e.g. `-&gt; { { when: Time.now } }`</span>
    <span class="ss">set: </span><span class="p">{</span> <span class="ss">priority: </span><span class="o">-</span><span class="mi">10</span> <span class="p">},</span> <span class="c1"># additional ActiveJob properties; can also be a lambda/proc e.g. `-&gt; { { priority: [1,2].sample } }`</span>
    <span class="ss">description: </span><span class="s2">"Something helpful"</span><span class="p">,</span> <span class="c1"># optional description that appears in Dashboard (coming soon!)</span>
  <span class="p">},</span>
  <span class="ss">another_task: </span><span class="p">{</span>
    <span class="ss">cron: </span><span class="s2">"0 0,12 * * *"</span><span class="p">,</span>
    <span class="ss">class: </span><span class="s2">"AnotherJob"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="c1"># etc.</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="concurrency-controls">Concurrency controls</h3>

<p>GoodJob now offers an <a href="https://github.com/bensheldon/good_job#activejob-concurrency">ActiveJob extension</a> to provide customizable limits on the number of jobs enqueued or executed concurrently. Rails might upstream it too. Here’s how to configure it:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/jobs/my_job.rb</span>
<span class="k">class</span> <span class="nc">MyJob</span> <span class="o">&lt;</span> <span class="no">ApplicationJob</span>
  <span class="kp">include</span> <span class="no">GoodJob</span><span class="o">::</span><span class="no">ActiveJobExtensions</span><span class="o">::</span><span class="no">Concurrency</span>

  <span class="n">good_job_control_concurrency_with</span><span class="p">(</span>
    <span class="c1"># Maximum number of jobs with the concurrency key to be concurrently enqueued</span>
    <span class="ss">enqueue_limit: </span><span class="mi">2</span><span class="p">,</span>

    <span class="c1"># Maximum number of jobs with the concurrency key to be concurrently performed</span>
    <span class="ss">perform_limit: </span><span class="mi">1</span><span class="p">,</span>

    <span class="c1"># A unique key to be globally locked against.</span>
    <span class="c1"># Can be String or Lambda/Proc that is invoked in the context of the job.</span>
    <span class="c1"># Note: Arguments passed to #perform_later must be accessed through `arguments` method.</span>
    <span class="ss">key: </span><span class="o">-&gt;</span> <span class="p">{</span> <span class="s2">"Unique-</span><span class="si">#{</span><span class="n">arguments</span><span class="p">.</span><span class="nf">first</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span> <span class="c1">#  MyJob.perform_later("Alice") =&gt; "Unique-Alice"</span>
  <span class="p">)</span>

  <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="n">first_name</span><span class="p">)</span>
    <span class="c1"># do work</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="dashboard-demo">Dashboard Demo</h3>

<p>Don’t take my word for what a good job it is. Check out the new GoodJob Dashboard demo running on Heroku entirely within a single free dyno: https://goodjob-demo.herokuapp.com/</p>

<h3 id="more-news">More news:</h3>

<ul>
  <li>Wojciech Wnętrzak aka <a href="https://github.com/morgoth">@morgoth</a> became a GoodJob maintainer.</li>
  <li>Wrote up details of the <a href="https://github.com/bensheldon/good_job/issues/255">evolving development philosophy</a> behind GoodJob.</li>
  <li>The Dashboard now allows removing jobs, with more actions coming soon.</li>
</ul>

<h3 id="contribute">Contribute</h3>

<p>Code, documentation, and curiosity-based contributions are welcome! Check out the  <a href="https://github.com/bensheldon/good_job/projects/1">GoodJob Backlog</a> , comment on or open a Github Issue, or make a Pull Request.</p>

<p>I also have a  <a href="https://github.com/sponsors/bensheldon">GitHub Sponsors Profile</a>  if you’re able to support GoodJob and me monetarily. It helps me stay in touch and send you project updates too.</p>


  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/07/paranoid-and-reparative-readings"><p>Paranoid and Reparative readings</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-07-05T17:19:00+00:00" itemprop="datePublished">July 5, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>From <a href="https://www.vox.com/the-highlight/22543858/isabel-fall-attack-helicopter"><em>How Twitter can ruin a life: Isabel Fall’s sci-fi story “I Sexually Identify as an Attack Helicopter” drew the ire of the internet</em></a>:</p>

<blockquote>
  <p>The delineation between paranoid and reparative readings originated in 1995, with influential critic Eve Kosofsky Sedgwick. A paranoid reading focuses on what’s wrong or problematic about a work of art. A reparative reading seeks out what might be nourishing or healing in a work of art, even if the work is flawed. Importantly, a reparative reading also tends to consider what might be nourishing or healing in a work of art for someone who isn’t the reader.</p>
</blockquote>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/06/goodjob-updates-v1.5-v1.9"><p>GoodJob Updates v1.5 - v1.9: Dashboard, daemonize, async_server, and graceful shutdowns</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-06-01T03:14:00+00:00" itemprop="datePublished">June 1, 2021</time>
      
      


  

  

  • Tagged <a href="/tags/#goodjob">GoodJob</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>This is a quick roundup of what’s new with GoodJob since the last update published for <a href="https://island94.org/2021/01/goodjob-1-4-jruby-compatibility-and-more">GoodJob v1.4</a>.</p>

<p>GoodJob (<a href="https://github.com/bensheldon/good_job">github</a>) is a multithreaded, Postgres-based, ActiveJob backend for Ruby on Rails. If you’re new to GoodJob, read the  <a href="https://island94.org/2020/07/introducing-goodjob-1-0">introductory blog post</a> .</p>

<p><em>For further details on the following updates, check out GoodJob’s <a href="https://github.com/bensheldon/good_job/blob/main/CHANGELOG.md">Changelog</a> or <a href="https://github.com/bensheldon/good_job/blob/main/README.md">Readme</a>.</em></p>

<h3 id="goodjob-v15-web-dashboard-and-configuration">GoodJob v1.5: Web Dashboard and configuration</h3>

<p>GoodJob ships with a <a href="https://github.com/bensheldon/good_job#dashboard">web dashboard</a> to display future, finished and errored jobs for easy inspection.  The Dashboard mounts as a self-contained Rails Engine.</p>

<p>GoodJob uses more <code class="language-plaintext highlighter-rouge">Rails.application.config...</code> for improved autoloading compatibility; deprecation notices have examples for updating configuration.</p>

<h3 id="goodjob-v16-daemonize">GoodJob v1.6: Daemonize</h3>

<p>GoodJob can run as a backgrounded daemon for folks who are still managing servers with <code class="language-plaintext highlighter-rouge">--daemonize</code>.</p>

<h3 id="goodjob-v17-scheduled-job-cache">GoodJob v1.7: Scheduled job cache</h3>

<p>GoodJob caches scheduled jobs (i.e. <code class="language-plaintext highlighter-rouge">ExampleJob.set(wait: 30.minutes).perform_later</code>) for signifiantly improved latency without relying upon polling.</p>

<h3 id="goodjob-v18-graceful-shutdown">GoodJob v1.8: Graceful shutdown</h3>

<p>GoodJob added additional shutdown options, including <code class="language-plaintext highlighter-rouge">GOOD_JOB_SHUTDOWN_TIMEOUT</code> to allow jobs to finish before exiting.</p>

<h3 id="goodjob-v19-async_server-mode">GoodJob v1.9: async_server mode</h3>

<p>GoodJob added an additional <code class="language-plaintext highlighter-rouge">async</code> execution mode to simplify the default configuration: running jobs as part of the web-process (and <em>not</em> console, Rake commands, etc.)</p>

<h3 id="upcoming-cron-and-concurrency-controls">Upcoming: cron and concurrency controls</h3>

<p>GoodJob will add support for cron-style repeating jobs, and concurrency controls to ensure that only a specified number (1 or more) jobs are enqueued or performed at the same time.  I previously was opposed to extending ActiveJob’s interface, but <a href="https://github.com/bensheldon/good_job/issues/255">have changed my mind</a>; it’s on!</p>

<h3 id="contribute">Contribute</h3>

<p>Code, documentation, and curiosity-based contributions are welcome! Check out the  <a href="https://github.com/bensheldon/good_job/projects/1">GoodJob Backlog</a>, comment on or open a Github Issue, or make a Pull Request. <strong>Thank you!!!</strong> to everyone who has contributed to GoodJob, including morgoth, tedhexaflow, weh, lauer, reczy, zealot128, gadimbaylisahil, Mr0grog, thilo, arku, sj26, jm96441, thedanbob, and joshmn.</p>

<p>I also have a <a href="https://github.com/sponsors/bensheldon">GitHub Sponsors Profile</a> if you’re able to support GoodJob and me monetarily. It helps me stay in touch and send you project updates too.</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/05/is-securerandom.choose-the-wrong-name-for-generating-randomized-strings-with-ruby"><p>Is SecureRandom.choose the wrong name for generating randomized strings with Ruby?</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-05-27T15:37:00+00:00" itemprop="datePublished">May 27, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I frequently need to generate a short, random string:</p>

<ul>
  <li>I need a non-numeric, non-enumerable url ID. e.g. <code class="language-plaintext highlighter-rouge">https://example.com/resources/TOKEN</code></li>
  <li>I need to generate a short, human-readable random activation token and I don’t want it to contain similar-looking characters like <code class="language-plaintext highlighter-rouge">1I</code> or <code class="language-plaintext highlighter-rouge">O0</code></li>
  <li>I want to do something fun with strings of emojis.</li>
</ul>

<p>I’ve been copy-pasting this snippet around for years:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">random_string</span><span class="p">(</span><span class="n">alphabet</span><span class="p">:,</span> <span class="n">length</span><span class="p">:)</span>
  <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">length</span><span class="p">)</span> <span class="p">{</span> <span class="n">alphabet</span><span class="p">.</span><span class="nf">chars</span><span class="p">[</span><span class="nb">rand</span><span class="p">(</span><span class="n">alphabet</span><span class="p">.</span><span class="nf">chars</span><span class="p">.</span><span class="nf">size</span><span class="p">)]</span> <span class="p">}.</span><span class="nf">join</span>
<span class="k">end</span>

<span class="n">random_string</span><span class="p">(</span><span class="ss">alphabet: </span><span class="s2">"AaBbCc123"</span><span class="p">,</span> <span class="ss">length: </span><span class="mi">7</span><span class="p">)</span> 
<span class="c1"># =&gt; "C113A11", "Abcc3B2", "33cabbC", etc.</span>

<span class="n">random_string</span><span class="p">(</span><span class="ss">alphabet: </span><span class="s2">"😀😍🙃🤪😎"</span><span class="p">,</span> <span class="ss">length: </span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># =&gt; "😍😀😎", "😀🤪🤪", "🙃😎😀", etc.</span>
</code></pre></div></div>

<p>The gems <a href="https://github.com/norman/friendly_id"><code class="language-plaintext highlighter-rouge">friendly_id</code></a> and <a href="https://github.com/ryanb/uniquify"><code class="language-plaintext highlighter-rouge">uniquify</code></a> can do this too.</p>

<p>There was recently a discussion on <a href="https://www.rubyonrails.link/">Ruby on Rails Link Slack</a> about generating random strings, and I went looking to see if there was a better implementation.</p>

<p>I found <a href="https://github.com/ruby/ruby/blob/029169bc5b45d8ec783c19eaf713395b7983d16a/lib/securerandom.rb#L247-L291"><code class="language-plaintext highlighter-rouge">SecureRandom.choose</code></a>, which is built into the Ruby standard library, and as part of the <code class="language-plaintext highlighter-rouge">SecureRandom</code> module, should be fairly trustworthy. Looks perfect:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># SecureRandom.choose generates a string that randomly draws from a source array of characters.</span>
<span class="c1">#</span>
<span class="c1"># The argument _source_ specifies the array of characters from which to generate the string.</span>
<span class="c1"># The argument _n_ specifies the length, in characters, of the string to be generated.</span>
<span class="c1">#</span>
<span class="c1"># The result may contain whatever characters are in the source array.</span>
<span class="c1">#</span>
<span class="c1">#   require 'securerandom'</span>
<span class="c1">#</span>
<span class="c1">#   SecureRandom.choose([*'l'..'r'], 16) #=&gt; "lmrqpoonmmlqlron"</span>
<span class="c1">#   SecureRandom.choose([*'0'..'9'], 5)  #=&gt; "27309"</span>
</code></pre></div></div>

<p>…but there is a problem: <code class="language-plaintext highlighter-rouge">SecureRandom.choose</code> is a private method. The <code class="language-plaintext highlighter-rouge">choose</code> method is used to implement the public <code class="language-plaintext highlighter-rouge">SecureRandom.alphanumeric</code> method, but is not itself exposed publicly. I went back to the initial <a href="https://bugs.ruby-lang.org/issues/10849">feature request</a> and found the reason:</p>

<blockquote>
  <p>I feel the method name, SecureRandom.choose, doesn’t represent the behavior well.</p>
</blockquote>

<p>Fair enough. Until the name is figured out, I’ll still be using it:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'securerandom'</span>

<span class="no">SecureRandom</span><span class="p">.</span><span class="nf">send</span> <span class="ss">:choose</span><span class="p">,</span> <span class="s2">"😀😍🙃🤪😎"</span><span class="p">.</span><span class="nf">chars</span><span class="p">,</span> <span class="mi">3</span>
<span class="c1"># =&gt; "😍😎😍"</span>
</code></pre></div></div>


  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/05/generic-advice-for-managers"><p>Generic advice for managers</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-05-26T15:15:00+00:00" itemprop="datePublished">May 26, 2021</time>
      
      



    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>From Allison Green’s <a href="https://www.thecut.com/article/ask-a-boss-glassdoor-negative-review.html">Ask a Manager: “I Got a Terrible Review on Glassdoor, and I’m Spiraling”</a>:</p>

<blockquote>
  <p>The reality is, when you’re a manager, not everyone will like working for you. You could be the greatest boss in the world and some people still wouldn’t like you. Partly that’s because being a good manager means giving feedback, addressing problems, and holding people accountable in ways they might not like. If you need to correct someone a lot, or have difficult conversations with them about their work, or say no to something they wanted, it’s human nature that you might not end up being their favorite person. Or you might have a style that doesn’t align well with theirs — maybe you’re very direct and matter-of-fact and that feels brusque to them, or maybe you’re a planner and a devotee of process and they work more spontaneously. That wouldn’t mean either of you is in the wrong; it would just mean you don’t mesh well together.</p>

  <p>Sometimes, too, people dislike a job or a manager for reasons that aren’t as much about the manager as they are about other things going on with that person — a dislike of their career path, stressors outside of work, a generally bad fit with the role, or all kinds of things.</p>

  <p>Or, frankly, you might be an imperfect manager — most of us are — but that doesn’t mean you’re a horrible one. Managing people is hard, and every manager will get things wrong now and then. Ideally you’ll establish a track record of fairness, transparency, and good judgment so your mistakes are judged within that context … but you still might encounter an employee who judges your mistakes harshly. You’re basically on a stage when you’re the boss; you’re going to be scrutinized by the people under you, and there will be things they take issue with. It’s part of the job, and you’ve got to be okay with that.</p>

  <p>Or, yes, you might be a terrible manager! It’s possible. There are lots of terrible managers out there. But I’m skeptical that you’re terrible in the specific ways the review described (mean and intolerant of mistakes), because your detailed explanation of your approach to mistakes sounds pretty healthy and because you sound genuinely thoughtful and caring toward team members. People can delude themselves, of course, and managers aren’t always reliable narrators of their own management styles. But the way you talk about how you operate — and your reaction now — doesn’t seem to line up with that review or with the feedback people have given your boss about you. That doesn’t mean that review is definitely wrong. I obviously can’t say that with certainty. But I don’t think it warrants the self-flagellation you’re doing.</p>

  <p>That said, all managers have ways they could improve — things they’re doing that irritate or upset their teams, or make things run less effectively, or allow problems to fester. I can say with confidence that you could be a better manager, because we all could. So one option is to take this as an impetus to do a real inventory of the way you manage, figure out where you could improve, and lean into doing that work.</p>
</blockquote>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2021/01/goodjob-1-4-jruby-compatibility-and-more"><p>GoodJob 1.4: JRuby compatibility and more</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2021-01-11T04:12:00+00:00" itemprop="datePublished">January 11, 2021</time>
      
      


  

  

  • Tagged <a href="/tags/#goodjob">GoodJob</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><a href="https://github.com/bensheldon/good_job">GoodJob</a>  version 1.4 is released. GoodJob is a multithreaded, Postgres-based, ActiveJob backend for Ruby on Rails. If you’re new to GoodJob, read the  <a href="https://island94.org/2020/07/introducing-goodjob-1-0">introductory blog post</a> .</p>

<p>GoodJob’s v1.4 release adds support for:</p>

<ul>
  <li>JRuby</li>
  <li>MRI 3.0</li>
  <li>Rails 6.1</li>
  <li>Postgres 12+</li>
</ul>

<p>And includes additional improvements to the Web Dashboard.</p>

<p>Version 1.4’s release comes three months after v1.3 and five months after GoodJob’s initial v1.0 release.</p>

<h2 id="jruby-compatibility">JRuby compatibility</h2>
<p>GoodJob 1.4 adds compatibility for Ruby on Rails applications running under JRuby. GoodJob’s multithreading is built on top of <a href="https://github.com/ruby-concurrency/concurrent-ruby">ConcurrentRuby</a>, which provides consistent behavior and guarantees on all four of the main Ruby interpreters (MRI/CRuby, JRuby, Rubinius, TruffleRuby).</p>

<p>A minor downside of JRuby is that JRuby’s database adapter, <a href="https://github.com/jruby/activerecord-jdbc-adapter"><code class="language-plaintext highlighter-rouge">activerecord-jdbc-adapter</code></a>, does not support Postgres LISTEN, which means GoodJob must rely on polling for new jobs under JRuby.</p>

<h2 id="broader-compatibility-and-improvements">Broader compatibility and improvements</h2>
<p>In addition to JRuby, GoodJob 1.4 adds compatibility for MRI 3.0, Rails 6.1, and Postgres 12+.</p>

<p>GoodJob 1.4 also includes improved filtering for the Web Dashboard,.</p>

<h2 id="whats-next">What’s next</h2>
<p>The next version of GoodJob will add support for daemonization.</p>

<h2 id="contribute">Contribute</h2>
<p>Code, documentation, and curiosity-based contributions are welcome! Check out the  <a href="https://github.com/bensheldon/good_job/projects/1">GoodJob Backlog</a> , comment on or open a Github Issue, or make a Pull Request.</p>

<p>I also have a  <a href="https://github.com/sponsors/bensheldon">GitHub Sponsors Profile</a>  if you’re able to support GoodJob and me monetarily. It helps me stay in touch and send you project updates too.</p>

  </div>
</article>

    

    
  

  
<hr>


<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    
      <li class="page-item"><a href="/page/7/" class="page-link"><span aria-hidden="true">&larr; </span>Newer</a></li>
    

    <li class="page-item disabled"><span class="page-link">Page 8 of 67</span></li>

    
      <li class="page-item"><a href="/page/9/" class="page-link">Older<span aria-hidden="true"> &rarr;</span></a></li>
    
  </ul>
</nav>



</div>

    </div>

    <footer class="site-footer">

</footer>


  </body>

</html>
