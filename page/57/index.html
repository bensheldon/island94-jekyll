<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/assets/stylesheets/main.css">
  <script src="/assets/javascripts/main.js"></script>

  <title>Island94.org</title>
  <meta name="description" content="A Lost and Found
">

  <link rel="canonical" href="https://island94.org/page/57/">

  <link rel="alternate" type="application/rss+xml" title="Island94.org Posts" href="https://island94.org/feed.xml">
  <link rel="alternate" type="application/rss+xml" title="Island94.org Book Reviews" href="https://island94.org/books.xml">

  
    <meta name="robots" content="noindex, follow">
  
</head>


  <body>

    <nav class="navbar navbar-expand-lg navbar-light mb-2 flex-column">
  <div class="container">
    <a class="navbar-brand" href="/">Island94.org</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link " href="/about/">About</a></li>
        <li class="nav-item"><a class="nav-link " href="/archives/">Archives</a></li>
        <li class="nav-item"><a class="nav-link " href="/books/">Books</a></li>
        <li class="nav-item"><a class="nav-link " href="/tags/">Tags</a></li>
        <li class="nav-item"><a class="nav-link" href="/feed.xml">RSS Feed <i class="bi bi-rss-fill"></i></a></li>

        <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
          <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-light-500"></div>
          <hr class="d-lg-none my-0 text-light-500">
        </li>

        <li class="nav-item dropdown">
          <button id="bd-theme" class="btn btn-link nav-link dropdown-toggle" type="button" aria-expanded="false" data-bs-toggle="dropdown"  aria-label="Theme (Auto)">
            <i data-bd-theme-active-icon class="bi bi-circle-half"></i>
            <span data-bd-theme-label>Theme</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="light" aria-pressed="false">
                <i class="bi bi-sun"></i> Light
              </button>
            </li>
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="dark" aria-pressed="false">
                <i class="bi bi-moon-stars-fill"></i> Dark
              </button>
            </li>
            <li>
              <button type="button" class="dropdown-item" data-bs-theme-value="auto" aria-pressed="true">
                <i class="bi bi-circle-half"></i> Auto
              </button>
            </li>
          </ul>
        </li>

      </ul>

      <form id="search" class="d-flex" action="/search" method="get">
        <input id="search-box" class="form-control search" role="search" name="q" placeholder="Search" aria-label="Search" results="0" type="text">
        <button class="visually-hidden" type="submit">Search</button>
      </form>
    </div>
  </div>
  <div class="container">
    <div class="text-muted fst-italic">
      — Ben Sheldon's personal blog and <a href="/2012/04/A-Commonplace-Book.html">commonplace book</a>.
    </div>
  </div>
</nav>


    <div class="container container-body">
      <div class="home">
  
    

<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    
      <li class="page-item"><a href="/page/56/" class="page-link"><span aria-hidden="true">&larr; </span>Newer</a></li>
    

    <li class="page-item disabled"><span class="page-link">Page 57 of 67</span></li>

    
      <li class="page-item"><a href="/page/58/" class="page-link">Older<span aria-hidden="true"> &rarr;</span></a></li>
    
  </ul>
</nav>


<hr>


  

  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/Verb-to-do.html"><p>Verb to do</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-31T00:00:00+00:00" itemprop="datePublished">August 31, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#meaning">meaning</a>, <a href="/tags/#word_usage">word usage</a>, and <a href="/tags/#writing">writing</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>A great list of <a href="http://www.college.ucla.edu/personnel/jobdesc/funcverbs.asp">functional verbs</a> for writing resumes or their reverse situational equivalent: job descriptions. (via <a href="http://www.google.com/search?q=writing+job+descriptions">Google</a>)</p>

<blockquote>
  <p><strong>ADMINISTRATIVE ACTION VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>advise</strong></td>
      <td>Offer an informed opinion or give specialized information to others.</td>
    </tr>
    <tr>
      <td><strong>adapt</strong></td>
      <td>Modify or change to fit specific or new situations.</td>
    </tr>
    <tr>
      <td><strong>administer</strong></td>
      <td>Manage or direct. (Generally requires some additional explanation to show specific detail.) See <strong>manage</strong>.</td>
    </tr>
    <tr>
      <td><strong>appoint</strong></td>
      <td>To set officially, arrange.</td>
    </tr>
    <tr>
      <td><strong>approve</strong></td>
      <td>Exercise final and decisive authority, causing action to use money, manpower, materials, or equipment.</td>
    </tr>
    <tr>
      <td><strong>arrange</strong></td>
      <td>To make preparations for, to plan.</td>
    </tr>
    <tr>
      <td><strong>authorize</strong></td>
      <td>Approve or commit an act implying subsequent action by others.</td>
    </tr>
    <tr>
      <td><strong>consult</strong></td>
      <td>Consider, asking advice or requesting opinion of.</td>
    </tr>
    <tr>
      <td><strong>control</strong></td>
      <td>Direct, regulate, or guide the use of money, methods, equipment, and materials. Also, the process of monitoring activities to ensure conformance with planned results.</td>
    </tr>
    <tr>
      <td><strong>coordinate</strong></td>
      <td>Regulate, adjust or direct the related actions of others in order to attain desired results.</td>
    </tr>
    <tr>
      <td><strong>decide</strong></td>
      <td>To select a course of action.</td>
    </tr>
    <tr>
      <td><strong>delegate</strong></td>
      <td>Entrust to another person tasks or duties which require exercise of some of the authority of the person originally responsible, as “To delegate an administrative assistant to represent the department at conferences.”</td>
    </tr>
    <tr>
      <td><strong>determine</strong></td>
      <td>To fix conclusively, regulate. To decide by choice of alternatives.</td>
    </tr>
    <tr>
      <td><strong>direct</strong></td>
      <td>Govern or control work operations by establishing the implementing objectives, practices and methods.</td>
    </tr>
    <tr>
      <td><strong>enforce</strong></td>
      <td>To effect or gain by force. To carry out effectively.</td>
    </tr>
    <tr>
      <td><strong>establish</strong></td>
      <td>To institute permanently by enactment or agreement.</td>
    </tr>
    <tr>
      <td><strong>execute</strong></td>
      <td>Put into effect or carry out methods, plans, etc.</td>
    </tr>
    <tr>
      <td><strong>initiate</strong></td>
      <td>Set going or introduce.</td>
    </tr>
    <tr>
      <td><strong>manage</strong></td>
      <td>Plan, organize, direct, control, and evaluate operation of an organizational unit, with responsibility for the output.</td>
    </tr>
    <tr>
      <td><strong>order</strong></td>
      <td>Arrange or command to come to a specified place or decision.</td>
    </tr>
    <tr>
      <td><strong>organize</strong></td>
      <td>To set up an administrative structure for. To arrange by systematic planning and united effort.</td>
    </tr>
    <tr>
      <td><strong>plan</strong></td>
      <td>To design or plot a scheme or project by means or method devised for doing something to achieve an end.</td>
    </tr>
    <tr>
      <td><strong>reject</strong></td>
      <td>To refuse to accept, consider or submit to.</td>
    </tr>
    <tr>
      <td><strong>require</strong></td>
      <td>To ask for by right and authority, request.</td>
    </tr>
    <tr>
      <td><strong>review</strong></td>
      <td>Consider or examine facts or results for accuracy, completeness and suitability.</td>
    </tr>
    <tr>
      <td><strong>supervise</strong></td>
      <td>Personally oversee or control work performance and conduct of others, where there is opportunity for control or inspection of work performed.</td>
    </tr>
    <tr>
      <td><strong>train</strong></td>
      <td>Teach, demonstrate, or guide others in the performance of assigned work.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>PUSH ALONG VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>activate</strong></td>
      <td>Set up or formally introduce with necessary personnel or equipment.</td>
    </tr>
    <tr>
      <td><strong>encourage</strong></td>
      <td>Give help, inspire or pay patronage to.</td>
    </tr>
    <tr>
      <td><strong>expediate</strong></td>
      <td>Accelerate the process or progress of a plan, idea.</td>
    </tr>
    <tr>
      <td><strong>further</strong></td>
      <td>Promote or advance.</td>
    </tr>
    <tr>
      <td><strong>implement</strong></td>
      <td>Carry out or fulfill by taking action.</td>
    </tr>
    <tr>
      <td><strong>maintain</strong></td>
      <td>Keep in satisfactory condition.</td>
    </tr>
    <tr>
      <td><strong>motivate</strong></td>
      <td>Provide incentive or drive.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>STOP VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>check</strong></td>
      <td>To proof or review for errors.</td>
    </tr>
    <tr>
      <td><strong>delete</strong></td>
      <td>Eliminate or wipe out.</td>
    </tr>
    <tr>
      <td><strong>prevent</strong></td>
      <td>Keep from happening or holding back.</td>
    </tr>
    <tr>
      <td><strong>return</strong></td>
      <td>Go back in thought or action. Give an official account to a superior.</td>
    </tr>
    <tr>
      <td><strong>stop</strong></td>
      <td>Keep from carrying out a proposed action.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>HELPER VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>advise</strong></td>
      <td>Offer an informed opinion or give specialized information to others.</td>
    </tr>
    <tr>
      <td><strong>aid</strong></td>
      <td>Provide with what is useful or necessary for achieving an end.</td>
    </tr>
    <tr>
      <td><strong>cooperate</strong></td>
      <td>Act jointly with others. Act or work with others to obtain a mutual benefit.</td>
    </tr>
    <tr>
      <td><strong>counsel</strong></td>
      <td>Advise or consult.</td>
    </tr>
    <tr>
      <td><strong>explain</strong></td>
      <td>Make plain or understandable.</td>
    </tr>
    <tr>
      <td><strong>guide</strong></td>
      <td>Direct, supervise, influence or superintend the training of people.</td>
    </tr>
    <tr>
      <td><strong>instruct</strong></td>
      <td>Teach, demonstrate, or by other methods impart knowledge to others. Direct that a specific activity be performed, may include directing how it is to be performed.</td>
    </tr>
    <tr>
      <td><strong>participate</strong></td>
      <td>To take part or have a share in a project, group.</td>
    </tr>
    <tr>
      <td><strong>protect</strong></td>
      <td>Maintain status or integrity of project, idea.</td>
    </tr>
    <tr>
      <td><strong>serve</strong></td>
      <td>Comply with the commands and demands of a boss, group.</td>
    </tr>
    <tr>
      <td><strong>show</strong></td>
      <td>Propose or mention an idea as workable or desirable.</td>
    </tr>
    <tr>
      <td><strong>suggest</strong></td>
      <td>?</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>GET &amp; GIVE VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>accept</strong></td>
      <td>Give admittance or approval to.</td>
    </tr>
    <tr>
      <td><strong>accumulate</strong></td>
      <td>Increase gradually in quantity or number.</td>
    </tr>
    <tr>
      <td><strong>acquire</strong></td>
      <td>Come into possession or control of an item or items.</td>
    </tr>
    <tr>
      <td><strong>arrange for</strong></td>
      <td>To make preparations for, to plan.</td>
    </tr>
    <tr>
      <td><strong>buy</strong></td>
      <td>Acquire possession, ownership or rights to the use of services, items.</td>
    </tr>
    <tr>
      <td><strong>collect</strong></td>
      <td>Gather or exact information or materials from a number of persons or sources.</td>
    </tr>
    <tr>
      <td><strong>compile</strong></td>
      <td>Put together information or assemble data in a new form.</td>
    </tr>
    <tr>
      <td><strong>deliver</strong></td>
      <td>Send or bring a desired object.</td>
    </tr>
    <tr>
      <td><strong>distribute</strong></td>
      <td>Deliver or hand out to several or many.</td>
    </tr>
    <tr>
      <td><strong>exchange</strong></td>
      <td>Give and receive reciprocally.</td>
    </tr>
    <tr>
      <td><strong>forward</strong></td>
      <td>Send goods or information onward.</td>
    </tr>
    <tr>
      <td><strong>furnish</strong></td>
      <td>Provide or equip with what is needed.</td>
    </tr>
    <tr>
      <td><strong>gather</strong></td>
      <td>Bring together or collect parts of a group.</td>
    </tr>
    <tr>
      <td><strong>get</strong></td>
      <td>Obtain or receive.</td>
    </tr>
    <tr>
      <td><strong>give</strong></td>
      <td>Grant or yield to another.</td>
    </tr>
    <tr>
      <td><strong>inform</strong></td>
      <td>Communicate knowledge to others.</td>
    </tr>
    <tr>
      <td><strong>inquire</strong></td>
      <td>Ask or search into.</td>
    </tr>
    <tr>
      <td><strong>issue</strong></td>
      <td>Make available through distribution.</td>
    </tr>
    <tr>
      <td><strong>keep</strong></td>
      <td>Preserve or maintain in a good and orderly condition.</td>
    </tr>
    <tr>
      <td><strong>mail</strong></td>
      <td>To send by the postal service.</td>
    </tr>
    <tr>
      <td><strong>notify</strong></td>
      <td>Give notice or a report on an occurrence or information.</td>
    </tr>
    <tr>
      <td><strong>obtain</strong></td>
      <td>Gain or possess.</td>
    </tr>
    <tr>
      <td><strong>pick up</strong></td>
      <td>?</td>
    </tr>
    <tr>
      <td><strong>procure</strong></td>
      <td>Get possession or obtain by particular care and effort.</td>
    </tr>
    <tr>
      <td><strong>provide</strong></td>
      <td>To supply support to meet a need, make available.</td>
    </tr>
    <tr>
      <td><strong>pull</strong></td>
      <td>Demand or obtain advantage by use of exertion or influence.</td>
    </tr>
    <tr>
      <td><strong>purchase</strong></td>
      <td>Gain or acquire by labor, money.</td>
    </tr>
    <tr>
      <td><strong>recall</strong></td>
      <td>Call back or cancel.</td>
    </tr>
    <tr>
      <td><strong>receive</strong></td>
      <td>Come into possession of or acquire an item, idea.</td>
    </tr>
    <tr>
      <td><strong>recruit</strong></td>
      <td>Increase numbers of a group or bring in new members.</td>
    </tr>
    <tr>
      <td><strong>render</strong></td>
      <td>Deliver or hand down.</td>
    </tr>
    <tr>
      <td><strong>report</strong></td>
      <td>Give an account or make a written summary or statement.</td>
    </tr>
    <tr>
      <td><strong>secure</strong></td>
      <td>Put beyond hazard or receive lasting control.</td>
    </tr>
    <tr>
      <td><strong>sell</strong></td>
      <td>Give up property in exchange for money.</td>
    </tr>
    <tr>
      <td><strong>send</strong></td>
      <td>Deliver or dispatch as means of communication or delivery.</td>
    </tr>
    <tr>
      <td><strong>solicit</strong></td>
      <td>To make a petition or request for services, money.</td>
    </tr>
    <tr>
      <td><strong>submit</strong></td>
      <td>Yield or surrender to authority.</td>
    </tr>
    <tr>
      <td><strong>supply</strong></td>
      <td>Make materials available for use.</td>
    </tr>
    <tr>
      <td><strong>take</strong></td>
      <td>Get or seize into possession.</td>
    </tr>
    <tr>
      <td><strong>transfer</strong></td>
      <td>Pass over from one person to another.</td>
    </tr>
    <tr>
      <td><strong>withdraw</strong></td>
      <td>Back away or remove.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>CREATIVE VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>create</strong></td>
      <td>Produce through imaginative skill.</td>
    </tr>
    <tr>
      <td><strong>design</strong></td>
      <td>Create or fashion a plan or idea.</td>
    </tr>
    <tr>
      <td><strong>develop</strong></td>
      <td>Disclose, discover, perfect, or unfold a plan or idea, in detail, gradually. Implies study and/or experiment unless otherwise stated. When used as “to develop subordinates”, see <a href="http://www.college.ucla.edu/personnel/jobdesc/funcverbs.asp#trn">train</a>.</td>
    </tr>
    <tr>
      <td><strong>devise</strong></td>
      <td>Form in the mind by combinations of ideas, new applications of principles, or new arrangement of parts.</td>
    </tr>
    <tr>
      <td><strong>establish</strong></td>
      <td>To institute permanently by enactment or agreement.</td>
    </tr>
    <tr>
      <td><strong>estimate</strong></td>
      <td>Forecast future quantities, values, sizes, extents, etc., either on the basis of judgment or calculations. Frequently, estimating is shared with others, in which case it is more precise to use “estimate” as a noun, and to state the job’s function in relation thereto, i.e., originates, analyzes, endorses, approves, etc., estimates of…</td>
    </tr>
    <tr>
      <td><strong>forecast</strong></td>
      <td>Predict future events based on specified assumptions.</td>
    </tr>
    <tr>
      <td><strong>formulate</strong></td>
      <td>Put into a systemized expression or statement.</td>
    </tr>
    <tr>
      <td><strong>iniyiate</strong></td>
      <td>Set going or introduce.</td>
    </tr>
    <tr>
      <td><strong>install</strong></td>
      <td>To set up for use.</td>
    </tr>
    <tr>
      <td><strong>originate</strong></td>
      <td>Begin or initiate.</td>
    </tr>
    <tr>
      <td><strong>plan</strong></td>
      <td>To design or plot a scheme or project by means or method devised for doing something to achieve an end.</td>
    </tr>
    <tr>
      <td><strong>project</strong></td>
      <td>Plan, figure, or estimate for the future.</td>
    </tr>
    <tr>
      <td><strong>schedule</strong></td>
      <td>Appoint a fixed time.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>APPRAISE/STUDY VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>analyze</strong></td>
      <td>Identify the elements of a whole and critically examine and relate these component parts separately and/or in relation to the whole.</td>
    </tr>
    <tr>
      <td><strong>appraise</strong></td>
      <td>Judge as to quality; compare critically with established standards.</td>
    </tr>
    <tr>
      <td><strong>ascertain</strong></td>
      <td>Find out or learn with certainty.</td>
    </tr>
    <tr>
      <td><strong>check</strong></td>
      <td>To proof or review for errors.</td>
    </tr>
    <tr>
      <td><strong>compare</strong></td>
      <td>To examine characteristics to discover similarities or differences.</td>
    </tr>
    <tr>
      <td><strong>consider</strong></td>
      <td>To observe or think about with regard to taking some action.</td>
    </tr>
    <tr>
      <td><strong>criticize</strong></td>
      <td>To evaluate and judge merits or faults.</td>
    </tr>
    <tr>
      <td><strong>develop</strong></td>
      <td>Disclose, discover, perfect, or unfold a plan or idea, in detail, gradually. Implies study and/or experiment unless otherwise stated. When used as “to develop subordinates”, see <a href="http://www.college.ucla.edu/personnel/jobdesc/funcverbs.asp#trn">train</a>.</td>
    </tr>
    <tr>
      <td><strong>evaluate</strong></td>
      <td>Appraise, to determine value, condition, significance or worth.</td>
    </tr>
    <tr>
      <td><strong>examine</strong></td>
      <td>Investigate in order to determine progress, fitness or knowledge.</td>
    </tr>
    <tr>
      <td><strong>forecast</strong></td>
      <td>Predict future events based on specified assumptions.</td>
    </tr>
    <tr>
      <td><strong>identify</strong></td>
      <td>The act of proving identity.</td>
    </tr>
    <tr>
      <td><strong>inspect</strong></td>
      <td>Examine materials, equipment, reports, work, etc., to determine quality, suitability for use, etc.</td>
    </tr>
    <tr>
      <td><strong>interpret</strong></td>
      <td>Explain to others (orally or in writing) the meaning or significance of something.</td>
    </tr>
    <tr>
      <td><strong>interview</strong></td>
      <td>Obtain information through questioning.</td>
    </tr>
    <tr>
      <td><strong>investigate</strong></td>
      <td>Uncover facts by systematically finding them, conducting a search, and examining various sources.</td>
    </tr>
    <tr>
      <td><strong>measure</strong></td>
      <td>Control or regulate by a standard or in measured amounts.</td>
    </tr>
    <tr>
      <td><strong>plan</strong></td>
      <td>To design or plot a scheme or project by means or method devised for doing something to achieve an end.</td>
    </tr>
    <tr>
      <td><strong>rate</strong></td>
      <td>Estimate or determine the relative value, rank, or amount of an item.</td>
    </tr>
    <tr>
      <td><strong>research</strong></td>
      <td>Specific inquiry involving prolonged and critical investigation, having for its aim the study of new facts and their interpretation, the revision of accepted conclusions or theories that may be affected by newly discovered factors, or the practical application of such new or revised conclusions. Example: Technical research to develop new products for the company.</td>
    </tr>
    <tr>
      <td><strong>resolve</strong></td>
      <td>Deal with a problem, dilemma successfully.</td>
    </tr>
    <tr>
      <td><strong>review</strong></td>
      <td>Consider or examine facts or results for accuracy, completeness and suitability.</td>
    </tr>
    <tr>
      <td><strong>solve</strong></td>
      <td>Find a solution, answer, or explanation for a question or problem.</td>
    </tr>
    <tr>
      <td><strong>study</strong></td>
      <td>Apply thought to any subject of investigation in order to arrive at the most suitable conclusion.</td>
    </tr>
    <tr>
      <td><strong>summarize</strong></td>
      <td>To tell and reduce a story, idea.</td>
    </tr>
    <tr>
      <td><strong>survey</strong></td>
      <td>Examine a condition, situation or value.</td>
    </tr>
    <tr>
      <td><strong>test</strong></td>
      <td>Assign a value or evaluate an item by a given test.</td>
    </tr>
    <tr>
      <td><strong>weigh</strong></td>
      <td>Merit consideration as to importance.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>CONTROL VERBS</strong></p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td><strong>allocate</strong></td>
      <td>Assign or apportion for a specific purpose or to a particular person.</td>
    </tr>
    <tr>
      <td><strong>audit</strong></td>
      <td>Perform a formal examination into a company’s formal accounts.</td>
    </tr>
    <tr>
      <td><strong>check</strong></td>
      <td>To proof or review for errors.</td>
    </tr>
    <tr>
      <td><strong>conserve</strong></td>
      <td>Slow or block the progress of something</td>
    </tr>
    <tr>
      <td><strong>control</strong></td>
      <td>Direct, regulate, or guide the use of money, methods, equipment, and materials. Also, the process of monitoring activities to ensure conformance with planned results.</td>
    </tr>
    <tr>
      <td><strong>edit</strong></td>
      <td>Alter, adapt or refine a written text, concept, or idea.</td>
    </tr>
    <tr>
      <td><strong>enforce</strong></td>
      <td>To effect or gain by force. To carry out effectively.</td>
    </tr>
    <tr>
      <td><strong>ensure</strong></td>
      <td>Make sure, certain, or safe.</td>
    </tr>
    <tr>
      <td><strong>guarantee</strong></td>
      <td>Undertake to answer for debt and default or promise security.</td>
    </tr>
    <tr>
      <td><strong>inspect</strong></td>
      <td>Examine materials, equipment, reports, work, etc., to determine quality, suitability for use, etc.</td>
    </tr>
    <tr>
      <td><strong>regulate</strong></td>
      <td>Fix or adjust the time, amount, degree, or rate.</td>
    </tr>
    <tr>
      <td><strong>restrict</strong></td>
      <td>Place under restriction as to use or distribution.</td>
    </tr>
    <tr>
      <td><strong>review</strong></td>
      <td>Consider or examine facts or results for accuracy, completeness and suitability.</td>
    </tr>
    <tr>
      <td><strong>verify</strong></td>
      <td>Confirm or substantiate by oath, law, or other documentation.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><img src="http://www.college.ucla.edu/personnel/images/arrow2.gif" alt="" /> <a href="http://www.college.ucla.edu/personnel/jobdesc/funcverbs.asp#top">back to top</a></p>
</blockquote>


  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/Trustworthiness.html"><p>Trustworthiness</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-31T00:00:00+00:00" itemprop="datePublished">August 31, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#algorithm">algorithm</a>, <a href="/tags/#trust">trust</a>, and <a href="/tags/#wikipedia">wikipedia</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Just saw this <a href="http://trust.cse.ucsc.edu/">demo</a> of an algorithm that rates the trustworthiness of Wikipedia articles. It computes the “trust” of authors by how long their edits stick around, then applies that to articles. (via <a href="http://it.slashdot.org/it/07/08/31/0259224.shtml">Slashdot</a>)</p>

<p>I wonder how it works on entries that are intentionally misleading, like the entry on <a href="http://en.wikipedia.org/wiki/Discordianism">Discordianism</a>.</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/Unintuitive-check.html"><p>Unintuitive: check</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-26T00:00:00+00:00" itemprop="datePublished">August 26, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#drupal">Drupal</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>CCK’s single checkboxes require a <a href="http://drupal.org/node/120377">strange configuration</a> in the Allowed Values list:</p>

<blockquote>
  <p>0</p>

  <table>
    <tbody>
      <tr>
        <td>1</td>
        <td>Checkbox title</td>
      </tr>
    </tbody>
  </table>

</blockquote>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/More-thoughts-on-an-interesting-thesaurus.html"><p>More thoughts on an interesting thesaurus</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-22T00:00:00+00:00" itemprop="datePublished">August 22, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#analysis">analysis</a>, <a href="/tags/#language">language</a>, <a href="/tags/#mathematics">mathematics</a>, <a href="/tags/#panlexicon">panlexicon</a>, and <a href="/tags/#thesaurus">thesaurus</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>My associate, <a href="http://circuitous.org">Rebecca</a>, and I have been starting to think critically about <a href="http://panlexicon.com">Panlexicon.com</a>, the unique, tag-cloud based thesaurus I’ve written about <a href="http://island94.org/node/128&quot;">previously</a>. We’re hoping to put some more time and effort into the project and in the process, learn some more about what’s happening with the language and the underlying structure of the thesaurus taxonomy.</p>

<p><a href="http://www.flickr.com/photos/bensheldon/1178070872/" title="Photo Sharing"> <img src="http://farm2.static.flickr.com/1214/1178070872_b43fabb5f9_b.jpg" alt="Panlexicon.com - Thesaurus Visualization" /> </a></p>

<p>The thesaurus data we’re working with is the <a href="http://www.gutenberg.org/etext/3202">Moby Thesaurus</a> from the <a href="http://www.gutenberg.org/">Project Gutenburg</a> library of free electronic texts. Like many thesauruses, it’s structure in an interesting way. Every word is assigned to one or more groups based on it’s general meaning or idea. Each group has a keyword, also known as a headword, that is a general encapsulation that idea—this is why, for example in Roget’s, you must first look up a word in the index to acquire its keywords. Each group has only one keyword, but a keyword can exist in other groups (but as an ordinary word).</p>

<p>This thesaurus structure allows us to do some easy simplifications and analysis on the data. For many functions, we can treat the groups as supernodes, performing operations and storing connections upon them in place of the words themselves. For example, when determining relatedness between words, we only have compare the groups they are a part of; while there are approximately 100,000 words in our database, there are only 30,000 groups, which greatly diminishes the size and complexity of the data set we’re working on.</p>

<p><a href="http://www.flickr.com/photos/bensheldon/1178070558/" title="Photo Sharing"> <img src="http://farm2.static.flickr.com/1297/1178070558_757312a092.jpg" alt="Panlexicon.com - Correspondence Weighting" /> </a></p>

<p>Currently Panlexicon works by comparing the overlap between groups of words. When typing in a search term, Panlexicon looks up all of the groups that word is a member of. It then returns a list of words that are also in those groups. The weight of each word (or size in our word cloud model) is calculated according to how many groups—-of those groups that include the search term—that word is a member of. A property of this is that no other returned word will have a heavier weight than the search term. When searching multiple terms, Panlexicon creates a set of groups such that all search terms are a member. In the case when there exists no groups that contain all the search terms, Panlexicon returns nothing.</p>

<p>Already we’re digging into some interesting relations that turn up in the thesaurus data. For example, one of my favorite linguistic <a href="http://en.wikipedia.org/wiki/Eskimo_words_for_snow">myths</a> is that Eskimos have 50 different words for snow. The supposed lesson was that eskimos had a different conception of snow than us (the non-Eskimos). I always wondered, “Well, is 50 a lot?” The largest group in our thesaurus has the keyword <em>cut</em> with 1448 related words or synonyms. This is followed by <em>set</em> (1152), <em>turn</em> (1108), <em>run</em> (1025), and <em>color</em> (1007). That’s quite a bit.</p>

<p>Also, interestingly in our dataset, are the most versatile words. These words are members of the most groups. The list shares four out five of the same words as those of the most synonyms, beginning with <em>cut</em>, being a member of 1120 distinct groups. This is followed by <em>set</em> (928), <em>run</em> (750), <em>turn</em> (715), and <em>check</em> (699).</p>

<p>Right now, we’re investigating paths between words. This will allow us to play the Kevin Bacon game, making connections between words that may not share the same group. It will be interesting to determine what words are connected (even through a medium) and which ones are disconnected. Lastly on our list of things to do is determine the eigenvectors of our groups in relation to how their connected to other groups. This will allow us to determine—without using fancy words like Markov chains—which words are probably <em>used</em> the most. I say probably because we’re analyzing a taxonomic work, rather than actual speech. Who knows if they match up; we’ll find out.</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/Two-stories-on-a-theme.html"><p>Two stories on a theme</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-13T00:00:00+00:00" itemprop="datePublished">August 13, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#advice">advice</a>, <a href="/tags/#fiction">fiction</a>, <a href="/tags/#learning_story">learning story</a>, and <a href="/tags/#pedagogy">pedagogy</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><em>I recently had an idea for a story and upon going through my other drafts, realized I already addressed it, though differently. So here they both are. Also, the second story is not a criticism of the Buddha—though if you asked me, “Surgeon General” is a more apt description than “Great Physician”—or Jesus for that matter (or anyone else that calls themselves a physician).</em></p>

<h3 id="the-disciples">The Disciples</h3>

<p>A wanderer entered a town to find a most pious people living there. In the market center he found a man in simple dress surrounded by disciples.</p>

<p>“Who is this man that attracts such a following?” the wanderer asked.</p>

<p>“This is our master, a most wise and blessed man. He has righted many people and teaches us his ways. Please, eat with us tonight and you will see but one of the miracles he can bestow.”</p>

<p>That evening the wanderer came to share their meal. He and the disciples waited solemnly with empty plates and glasses for their master to appear.</p>

<p>When the master arrived he but touched each plate and on it appeared food of the most delicious and nourishing variety; he placed his finger to a glass and it filled with the most refreshing of nectars.</p>

<p>“This is no trick,” a disciple said to the stranger. “It is evidence of the wondrous knowledge from which he teaches us.”</p>

<p>“I accept the miracle,” the wanderer replied, “But why must your master serve you?”</p>

<h3 id="midwife">Midwife</h3>

<p>The death of the king’s spiritual adviser called for the grandest of ceremonies and the richest of processions. To match the respect given in life, the king called all of his subjects in number to mourn. Among them, the king noticed a man, in the simple garb of a sage, and surrounded by disciples.</p>

<p>“Bring that wise man to my court this evening,” the king said, and it was so.</p>

<p>That evening, the sage was brought before the king and introduced as a most learned and wise teacher of philosophy and faith.</p>

<p>“Of my spiritual adviser,” the king spoke, “He was a brilliant and enlightened man whose help and support was a great constancy to my rule. Day or night I could call upon him to minister to my needs. He was physician to my thoughts and spirits.</p>

<p>“What could you provide of me in my court?” the king asked.</p>

<p>“To the health of your mind and soul I could provide much. I am though but a midwife: I can aid you in becoming, but from there it is up to you.”</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/DESC-Scripting-and-Conflict-Resolution.html"><p>DESC Scripting and Conflict Resolution</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-06T00:00:00+00:00" itemprop="datePublished">August 6, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#conflict_resolution">conflict resolution</a>, <a href="/tags/#human_resources">human resources</a>, <a href="/tags/#management">management</a>, and <a href="/tags/#supervisory_skills">supervisory skills</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I’ve recently come into a major upgrade in duties at my job, which has always been heavy on the Human Resources responsibilities. As it is, not only am I supervising several subordinates locally, I am also the clearing house for supervisory advice and information for our many-dozen affiliates all across the nation; like the surgeon general is to doctors. Because of that, I find myself often intently reading HR manuals, strategic planning frameworks and, like today, conflict resolution.</p>

<p>Today I was leafing through the relatively good <a href="http://nationalserviceresources.org/resources/online_pubs/program_management/">“How to Be a Better Supervisor”</a> that was produced by the National Crime Prevention Council (the McGruff people) specifically for AmeriCorps (which is convenient considering that’s what I primarily deal with). I was clued into the publication by my friend and fellow <a href="http://organizerscollaborative.org/staff">nonprofit technologist</a> <a href="http://www.feliciasullivan.net/">Felicia Sullivan</a>.</p>

<p>Most of this stuff is Communications 101. In other words, it’s that type of common sense that isn’t as common as you’d like it to be. Beyond that, and perhaps more importantly, it creates a framework and vocabulary for describing common sense in order for it to be more easily remembered, analyzed and communicated.</p>

<p>So the nice piece of common sense I ran across today was DESC Scripting, which was developed by <a href="http://www.amazon.ca/Asserting-Yourself-Practical-Positive-Change/dp/0738209716">Sharon and Gordon Bower</a>.</p>

<p>One of many, many acronyms, DESC Scripting is a four step approach used to effect a change in behavior. I’ve also seen it called the DESC Model. It is (somewhat paraphrased):</p>

<ol>
  <li>
    <p><strong>Describe</strong> the actions or behavior that you see as taking place;</p>
  </li>
  <li>
    <p><strong>Express</strong> why that behavior is an issue?</p>
  </li>
  <li>
    <p><strong>Specify</strong> the resulting actions or change of behavior you would like to effect;</p>
  </li>
  <li>
    <p><strong>Clarify</strong> the consequences for failing to change behavior or meet demands.</p>
  </li>
</ol>

<p>It’s a rather good model for dealing with issues as they come up, mostly because it isn’t overly complicated or far outside the norm of typical interactions—no one could claim you didn’t <em>deal with</em> an issue.</p>

<p>Not to be meta about conflict resolution, I do have a critique of it: as acronyms go, it’s pretty lousy. The four acronym forming words have very similar definitions and in fact the meaning of the statement is defined in the words that follow—not merely expanded upon. In light of that, I propose the IRCC script:</p>

<ol>
  <li>
    <p><strong>Issue</strong>: Describe the actions or behavior that you see are taking place.</p>
  </li>
  <li>
    <p><strong>Result</strong>: Why are those actions or that behavior an issue?</p>
  </li>
  <li>
    <p><strong>Correction</strong>: What are the resulting actions or change of behavior you would like to effect?</p>
  </li>
  <li>
    <p><strong>Consequences</strong>: What happens if the actions or behavior changes aren’t met?</p>
  </li>
</ol>

<p>Of course, the issue with that is the double Cs at the end, but I’m open to suggestions (maybe later I’ll get into Conflict Resolution styles.)</p>

<p><strong>More Info:</strong></p>

<p>A BBC’s h2g2 has a good write-up on <a href="http://www.bbc.co.uk/dna/h2g2/A2998551">DESC Scripting and techniques for being more assertive</a>.</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/Geekout-Video-on-Maps-for-Cable-Access-TV.html"><p>Geekout: Video on Maps for Cable Access TV</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-02T00:00:00+00:00" itemprop="datePublished">August 2, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#cable_access">Cable Access</a>, <a href="/tags/#coding">coding</a>, <a href="/tags/#development">development</a>, <a href="/tags/#drupal">Drupal</a>, <a href="/tags/#geekout">geekout</a>, <a href="/tags/#navigation">navigation</a>, <a href="/tags/#portfolio">portfolio</a>, and <a href="/tags/#video">video</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><img src="/uploads/2007-08/mediamap-600x448.jpg" alt="" title="mediamap" /></p>

<p>I recently did some <a href="http://drupal.org">Drupal</a> development work for <a href="http://cctvcambridge.org">Cambridge Community Television</a>. As part of the really amazing work they are doing combining new media with traditional <a href="http://alliancecm.org">Cable Access Television</a>, CCTV has been mapping videos their members produce. They call this project the <a href="http://cctvcambridge.org/mediamap">Mediamap</a>.</p>

<p>I was really excited to work on the Mediamap with CCTV because of my long <a href="http://island94.org/articles/future-cable-access">involvement</a> with Cable Access Television, most notably the now-defunct <a href="https://web.archive.org/web/20070712053537/http://digitalbicycle.org/">DigitalBicycle Project</a> and the community maintained directory of Cable Access Stations I built and administer: <a href="https://web.archive.org/web/20070819093518/http://www.mappingaccess.com/">MappingAccess.com</a>.</p>

<p>Despite CCTV running their website on Drupal, their first proof-of-concept version of the Mediamap was created manually, using the very capable <a href="http://mapbuilder.net">Mapbuilder.net</a> service and copy-and-pasted embedded flash video. While simple from a technological standpoint, they were running to problems optimizing the workflow of updating the map; changes had to be made via the Mapbuilder.net interface, with a single username and password, then manually parsed to remove some coding irregularities, and finally copy and pasted whole into a page on their website.</p>

<p>I was asked to improve the workflow and ultimately take fuller advantage of Drupal’s built-in user management and content management features. For instance, taking advantage of CCTV’s current member submitted video capabilities and flowing them into the map as an integrated report, not a separate and parallel system.</p>

<p>In my discussions with them, a couple of issues came up. Foremost was that CCTV was running an older version of Drupal: 4.7. While still quite powerful, many newer features and contributed modules were not available for this earlier release. The current version of Drupal, 5.1, has many rich, well-developed utilities for creating reports and mapping them: <a href="http://drupal.org/project/cck">Content Construction Kit (CCK)</a> + <a href="http://drupal.org/project/views">Views</a> + <a href="http://drupal.org/project/gmap">Gmap</a> + <a href="http://drupal.org/project/location">Location</a>. As it was though, with the older version, I would have to develop the additional functionality manually.</p>

<p>The following is a description, with code examples, of the functionality I created for the Mediamap. Additionally, following this initial development, CCTV upgraded their Drupal installation to 5.1, giving me the opportunity to demonstrate the ease and power of Drupal’s most recent release—rendering blissfully obsolete most of the custom coding I had done.</p>

<p>Location and Gmap was used in both versions for storing geographic data and hooking into the Google Map API. One of Drupal’s great strengths is the both the diversity of contributed modules, and the flexibility with which a developer can use them.</p>

<h3 id="adding-additional-content-fields">Adding additional content fields</h3>

<p>CCTV already has a process in which member’s can submit content nodes. In 4.7, the easiest way to add additional data fields to these was with a custom <a href="http://api.drupal.org/api/file/nodeapi_example.module/4.7">NodeAPI module</a>. CCTV was interested in using embedded flash video, primarily from <a href="http://blip.tv">Blip.tv</a>, but also Google Video or YouTube if the flexibility was needed. To simplify the process, we decided on just adding the cut-and-paste embed code to a custom content field in existing nodes.</p>

<p>To do this, I created a new module that invoked hook_nodeapi:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">Implementation</span> <span class="n">of</span> <span class="n">hook_nodeapi</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_nodeapi</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$node</span><span class="p">,</span> <span class="nv">$op</span><span class="p">,</span> <span class="nv">$teaser</span><span class="p">,</span> <span class="nv">$page</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nv">$op</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">'validate'</span><span class="o">:</span>
      <span class="k">if</span> <span class="p">(</span><span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_'</span><span class="mf">.</span><span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">type</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nf">user_access</span><span class="p">(</span><span class="s1">'modify node data'</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">form_set_error</span><span class="p">(</span><span class="s1">'cambridge_mediamap'</span><span class="p">,</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Media Map: You must enter embed code or disable display of this node on the map'</span><span class="p">));</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'load'</span><span class="o">:</span>
      <span class="nv">$object</span> <span class="o">=</span> <span class="nf">db_fetch_object</span><span class="p">(</span><span class="nf">db_query</span><span class="p">(</span><span class="s1">'SELECT display, embed FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">));</span>
      <span class="nv">$embed</span> <span class="o">=</span> <span class="nv">$object</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">embed</span><span class="p">;</span>
      <span class="nv">$embed_resize</span> <span class="o">=</span> <span class="nf">cambridge_mediamap_resize</span><span class="p">(</span><span class="nv">$embed</span><span class="p">);</span>
      <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">'cambridge_mediamap'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'display'</span> <span class="o">=&gt;</span> <span class="nv">$object</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">display</span><span class="p">,</span> <span class="s1">'embed'</span> <span class="o">=&gt;</span> <span class="nv">$embed</span><span class="p">,</span> <span class="s1">'embed_resize'</span> <span class="o">=&gt;</span> <span class="nv">$embed_resize</span><span class="p">,</span> <span class="p">));</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'insert'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s2">"INSERT INTO </span><span class="si">{</span><span class="nv">cambridge_mediamap</span><span class="si">}</span><span class="s2"> (nid, display, embed) VALUES (%d, %d, '%s')"</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'update'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s1">'DELETE FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">);</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s2">"INSERT INTO </span><span class="si">{</span><span class="nv">cambridge_mediamap</span><span class="si">}</span><span class="s2"> (nid, display, embed) VALUES (%d, %d, '%s')"</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'delete'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s1">'DELETE FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span><span class="err">  </span>
    <span class="k">case</span> <span class="s1">'view'</span><span class="o">:</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, there is a considerable amount of coding required, from defining the form, validating input and configuring database storage and retrieval calls.</p>

<p>Now that we have the glue for the custom field, we have to configure what node types that custom field appears on. Additionally, we need to set up administrative settings to configure where that custom field will appear, and lastly insert that field into the node edit screen:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="err">\</span><span class="o">**</span>
 <span class="o">*</span> <span class="nc">Implementation</span> <span class="n">of</span> <span class="n">hook_form_alter</span>
 <span class="o">*/</span>
<span class="k">function</span> <span class="n">cambridge_mediamap_nodeapi</span><span class="p">(</span> <span class="o">&amp;</span> <span class="nv">$node</span><span class="p">,</span> <span class="nv">$op</span><span class="p">,</span> <span class="nv">$teaser</span><span class="p">,</span> <span class="nv">$page</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nv">$op</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">'validate'</span><span class="o">:</span>
      <span class="k">if</span> <span class="p">(</span><span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_'</span><span class="mf">.</span><span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">type</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nf">user_access</span><span class="p">(</span><span class="s1">'modify node data'</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">form_set_error</span><span class="p">(</span><span class="s1">'cambridge_mediamap'</span><span class="p">,</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Media Map: You must enter embed code or disable display of this node on the map'</span><span class="p">));</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'load'</span><span class="o">:</span>
      <span class="nv">$object</span> <span class="o">=</span> <span class="nf">db_fetch_object</span><span class="p">(</span><span class="nf">db_query</span><span class="p">(</span><span class="s1">'SELECT display, embed FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">));</span>
      <span class="nv">$embed</span> <span class="o">=</span> <span class="nv">$object</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">embed</span><span class="p">;</span>
      <span class="nv">$embed_resize</span> <span class="o">=</span> <span class="nf">cambridge_mediamap_resize</span><span class="p">(</span><span class="nv">$embed</span><span class="p">);</span>
      <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'cambridge_mediamap'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
          <span class="s1">'display'</span> <span class="o">=&gt;</span> <span class="nv">$object</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">display</span><span class="p">,</span>
          <span class="s1">'embed'</span> <span class="o">=&gt;</span> <span class="nv">$embed</span><span class="p">,</span>
          <span class="s1">'embed_resize'</span> <span class="o">=&gt;</span> <span class="nv">$embed_resize</span><span class="p">,</span>
        <span class="p">)</span>
      <span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'insert'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s2">"INSERT INTO </span><span class="si">{</span><span class="nv">cambridge_mediamap</span><span class="si">}</span><span class="s2"> (nid, display, embed) VALUES (%d, %d, '%s')"</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'update'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s1">'DELETE FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">);</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s2">"INSERT INTO </span><span class="si">{</span><span class="nv">cambridge_mediamap</span><span class="si">}</span><span class="s2"> (nid, display, embed) VALUES (%d, %d, '%s')"</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'delete'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s1">'DELETE FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'view'</span><span class="o">:</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, that’s a lot of lines of code for what we essentially can do, in Drupal 5.1 with CCK. CCK allows you, graphically through the Drupal web-interface, to create a new content field and add it to a node type; it takes about a minute.</p>

<h3 id="building-the-map">Building the Map</h3>

<p>The primary goal of rebuilding the Mediamap using native Drupal was workflow optimization: it was frustrating to submit information both within Drupal and then recreate it within Mapbuilder. In essence, the map should be just another report of Drupal content: you may have a short bulleted list of the top five articles, a paginated history with teasers and author information, or a full-blown map, but most importantly, all of it is flowing dynamically out of the Drupal database.</p>

<p>The Gmap module provides many powerful ways to integrate the Google Map API with Drupal. While Gmap for 4.7 provides a default map of content it would not provide the features or customizability we desired with the Mediamap. Instead, one of the most powerful ways to use Gmap is to hook directly into the module’s own API-like functions:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\**
 * A page callback to draw the map
 */

function cambridge_mediamap_map() {
  $output = '';
  //Collect the nodes to be displayed
  $results = db_query('SELECT embed, nid FROM {cambridge_mediamap} WHERE display = 1');
  //Initialize our marker array
  $markers = array();
  //check to see what modules are enabled
  $location_enabled = module_exist('location');
  $gmap_location_enabled = module_exist('gmap_location');
  //load each node and set it's attributes in the marker array
  while ($item = db_fetch_object($results)) {
    $latitude = 0;
    $longitude = 0;
    //load the node
    $node = node_load(array('nid' =&gt; $item - &gt; nid));
    //set the latitude and longitude
    //give location module data preference over gmap module data
    if ($location_enabled) {
      $latitude = $node - &gt; location['latitude'];
      $longitude = $node - &gt; location['longitude'];
    }
    elseif($gmap_location_enabled) {
      $latitude = $node - &gt; gmap_location_latitude;
      $longitude = $node - &gt; gmap_location_longitude;
    }
    if ($latitude &amp;&amp; $longitude) {
      $markers[] = array(
        'label' =&gt; theme('cambridge_mediamap_marker', $node),
        'latitude' =&gt; $latitude,
        'longitude' =&gt; $longitude,
        'markername' =&gt; variable_get('cambridge_mediamap_default_marker', 'marker'),
      );
    }
  }
  $latlon = explode(',', variable_get('cambridge_mediamap_default_latlong', '42.369452,-71.100426'));
  $map = array(
    'id' =&gt; 'cambridge_mediamap',
    'latitude' =&gt; trim($latlon[0]),
    'longitude' =&gt; trim($latlon[1]),
    'width' =&gt; variable_get('cambridge_mediamap_default_width', '100%'),
    'height' =&gt; variable_get('cambridge_mediamap_default_height', '500px'),
    'zoom' =&gt; variable_get('cambridge_mediamap_default_zoom', 13),
    'control' =&gt; variable_get('cambridge_mediamap_default_control', 'Large'),
    'type' =&gt; variable_get('cambridge_mediamap_default_type', 'Satellite'),
    'markers' =&gt; $markers,
  );
   
  return gmap_draw_map($map);
}
</code></pre></div></div>

<p>As you can see, this is quite complicated. Drupal 5.1 offers the powerful Views module, which allows one to define custom reports, once again graphically from the Drupal web-interface, in just a couple minutes of configuration. The gmap_views module, which ships with Gmap, allows one to add those custom reports to a Google Map, which is incredibly useful and renders obsolete much of the development work I did.</p>

<h3 id="on-displaying-video-in-maps">On displaying video in maps</h3>

<p>In my discussions with CCTV, we felt it most pragmatic to use the embedded video code provided by video hosting services such as Blip.tv. While we could have used one of the Drupal video modules, we wanted the ability to host video offsite due to storage constraints. While I was concerned about the danger of code injection via minimally validated inputs, we felt that this would be of small danger because the content would be maintained by CCTV staff and select members.</p>

<p>The markers were themed using the embedded video field pulled from the Drupal database, along with the title and a snippet of the description, all linking back to the full content node.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cd">/**
 * A theme function for our markers
 */</span>
<span class="k">function</span> <span class="n">theme_cambridge_mediamap_marker</span><span class="p">(</span><span class="nv">$node</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$output</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
  <span class="nv">$output</span><span class="mf">.</span> <span class="o">=</span> <span class="s1">''</span> <span class="mf">.</span> <span class="nf">l</span><span class="p">(</span><span class="nv">$node</span><span class="o">-&gt;</span><span class="n">title</span><span class="p">,</span> <span class="s1">'node / '</span> <span class="mf">.</span> <span class="nv">$node</span><span class="o">-&gt;</span><span class="n">nid</span><span class="p">)</span> <span class="mf">.</span> <span class="s1">''</span><span class="p">;</span>
  <span class="nv">$output</span><span class="mf">.</span> <span class="o">=</span> <span class="s1">''</span> <span class="mf">.</span> <span class="nv">$node</span><span class="o">-&gt;</span><span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">' . embed_resize '</span><span class="p">]</span> <span class="mf">.</span> <span class="s1">''</span><span class="p">;</span>
  <span class="nv">$output</span><span class="mf">.</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
  <span class="k">return</span> <span class="nv">$output</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>With Drupal 5.1 and Views, we still had to override the standard marker themes, but this was simple and done through the standard methods.</p>

<p>One of the most helpful pieces was some code developed by <a href="http://circuitous.org">Rebecca White</a>, who I previously worked with on <a href="http://panlexicon.com">Panlexicon</a>. She provided the critical pieces of code that parsed the embedded video code and resized it for display on small marker windows.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cd">/**

\* Returns a resized embed code

\*/</span>
<span class="k">function</span> <span class="n">cambridge_mediamap_resize</span><span class="p">(</span><span class="nv">$embed</span> <span class="o">=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$embed</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">''</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">list</span><span class="p">(</span><span class="nv">$width</span><span class="p">,</span> <span class="nv">$height</span><span class="p">)</span> <span class="o">=</span> <span class="nf">cambridge_mediamap_get_embed_size</span><span class="p">(</span><span class="nv">$embed</span><span class="p">);</span>
  <span class="c1">//width/height ratio</span>
  <span class="nv">$width_to_height</span> <span class="o">=</span> <span class="nv">$width</span> <span class="o">/</span> <span class="nv">$height</span><span class="p">;</span>
  <span class="nv">$max_width</span> <span class="o">=</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_embed_width'</span><span class="p">,</span> <span class="s1">'320'</span><span class="p">);</span>
  <span class="nv">$max_height</span> <span class="o">=</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_embed_height'</span><span class="p">,</span> <span class="s1">'240'</span><span class="p">);</span>
  <span class="c1">//shrink down widths while maintaining proportion</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$width</span> <span class="o">&gt;=</span> <span class="nv">$height</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$width</span> <span class="o">&gt;</span> <span class="nv">$max_width</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="nv">$max_width</span><span class="p">;</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$width</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$height</span> <span class="o">&gt;</span> <span class="nv">$max_height</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="nv">$max_height</span><span class="p">;</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$height</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$height</span> <span class="o">&gt;</span> <span class="nv">$max_height</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="nv">$max_height</span><span class="p">;</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$height</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$width</span> <span class="o">&gt;</span> <span class="nv">$max_width</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="nv">$max_width</span><span class="p">;</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$width</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nf">cambridge_mediamap_set_embed_size</span><span class="p">(</span><span class="nv">$embed</span><span class="p">,</span> <span class="nb">intval</span><span class="p">(</span><span class="nv">$width</span><span class="p">),</span> <span class="nb">intval</span><span class="p">(</span><span class="nv">$height</span><span class="p">));</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="n">find</span> <span class="n">out</span> <span class="n">what</span> <span class="n">size</span> <span class="n">the</span> <span class="n">embedded</span> <span class="n">thing</span> <span class="n">is</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_get_embed_size</span><span class="p">(</span><span class="nv">$html</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/]\*width(\s\*=\s\*"|:\s\*)(\d+)/i'</span><span class="p">,</span> <span class="nv">$html</span><span class="p">,</span> <span class="nv">$match_width</span><span class="p">);</span>
  <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/]\*height(\s\*=\s\*"|:\s\*)(\d+)/i'</span><span class="p">,</span> <span class="nv">$html</span><span class="p">,</span> <span class="nv">$match_height</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="nv">$match_width</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nv">$match_height</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="n">set</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">embeded</span> <span class="n">thing</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_set_embed_size</span><span class="p">(</span><span class="nv">$html</span><span class="p">,</span> <span class="nv">$width</span><span class="p">,</span> <span class="nv">$height</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$html</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'/(&lt;(embed|object)\s[^&gt;]\*width(\s\*=\s\*"|:\s\*))(\d+)/i'</span><span class="p">,</span> <span class="s1">'${1}'</span><span class="mf">.</span><span class="nv">$width</span><span class="p">,</span> <span class="nv">$html</span><span class="p">);</span>
  <span class="nv">$html</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'/(&lt;(embed|object)\s[^&gt;]\*height(\s\*=\s\*"|:\s\*))(\d+)/i'</span><span class="p">,</span> <span class="s1">'${1}'</span><span class="mf">.</span><span class="nv">$height</span><span class="p">,</span> <span class="nv">$html</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$html</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="n">returns</span> <span class="n">the</span> <span class="n">base</span> <span class="n">url</span> <span class="n">of</span> <span class="n">the</span> <span class="n">src</span> <span class="n">attribute</span><span class="mf">.</span><span class="err">\</span><span class="o">*</span><span class="n">youtube</span> <span class="o">=</span> <span class="n">www</span><span class="mf">.</span><span class="n">youtube</span><span class="mf">.</span><span class="n">com</span><span class="err">\</span> <span class="o">*</span> <span class="n">blip</span> <span class="o">=</span> <span class="n">blip</span><span class="mf">.</span><span class="n">tv</span><span class="err">\</span> <span class="o">*</span> <span class="n">google</span> <span class="n">video</span> <span class="o">=</span> <span class="n">video</span><span class="mf">.</span><span class="n">google</span><span class="mf">.</span><span class="n">com</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_get_embed_source</span><span class="p">(</span><span class="nv">$html</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/]\*src="http:\/\/([^\/"]+)/i'</span><span class="p">,</span> <span class="nv">$html</span><span class="p">,</span> <span class="nv">$match_src</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$match_src</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="the-wrap-up">The Wrap-Up</h3>

<p>While it may not seem so from the lines of code above, developing for Drupal is still relatively easy. Drupal provides a rich set of features for developers, <a href="http://api.drupal.org">well documented features</a>, and strong <a href="http://drupal.org/coding-standards">coding standards</a>—making reading other people’s code and learning from it incredibly productive.</p>

<p>Below is the entirety of the custom module I developed for the 4.7 version of the CCTV Media Map. Because it was custom and intended to be used in-house, many important, release worthy functions were omitted, such as richer administrative options and module/function verifications.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s1">'cambridge_mediamap'</span><span class="p">,</span> <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Mediamap'</span><span class="p">),</span> <span class="s1">'callback'</span> <span class="o">=&gt;</span> <span class="s1">'cambridge_mediamap_map'</span><span class="p">,</span> <span class="s1">'access'</span> <span class="o">=&gt;</span> <span class="nf">user_access</span><span class="p">(</span><span class="s1">'access mediamap'</span><span class="p">),</span> <span class="p">);</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nv">$items</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">Implementation</span> <span class="n">of</span> <span class="n">hook_nodeapi</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_nodeapi</span><span class="p">(</span> <span class="o">&amp;</span> <span class="nv">$node</span><span class="p">,</span> <span class="nv">$op</span><span class="p">,</span> <span class="nv">$teaser</span><span class="p">,</span> <span class="nv">$page</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nv">$op</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">'validate'</span><span class="o">:</span>
      <span class="k">if</span> <span class="p">(</span><span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_'</span><span class="mf">.</span><span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">type</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nf">user_access</span><span class="p">(</span><span class="s1">'modify node data'</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">form_set_error</span><span class="p">(</span><span class="s1">'cambridge_mediamap'</span><span class="p">,</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Media Map: You must enter embed code or disable display of this node on the map'</span><span class="p">));</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'load'</span><span class="o">:</span>
      <span class="nv">$object</span> <span class="o">=</span> <span class="nf">db_fetch_object</span><span class="p">(</span><span class="nf">db_query</span><span class="p">(</span><span class="s1">'SELECT display, embed FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">));</span>
      <span class="nv">$embed</span> <span class="o">=</span> <span class="nv">$object</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">embed</span><span class="p">;</span>
      <span class="nv">$embed_resize</span> <span class="o">=</span> <span class="nf">cambridge_mediamap_resize</span><span class="p">(</span><span class="nv">$embed</span><span class="p">);</span>
      <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">'cambridge_mediamap'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'display'</span> <span class="o">=&gt;</span> <span class="nv">$object</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">display</span><span class="p">,</span> <span class="s1">'embed'</span> <span class="o">=&gt;</span> <span class="nv">$embed</span><span class="p">,</span> <span class="s1">'embed_resize'</span> <span class="o">=&gt;</span> <span class="nv">$embed_resize</span><span class="p">,</span> <span class="p">));</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'insert'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s2">"INSERT INTO </span><span class="si">{</span><span class="nv">cambridge_mediamap</span><span class="si">}</span><span class="s2"> (nid, display, embed) VALUES (%d, %d, '%s')"</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'update'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s1">'DELETE FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">);</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s2">"INSERT INTO </span><span class="si">{</span><span class="nv">cambridge_mediamap</span><span class="si">}</span><span class="s2"> (nid, display, embed) VALUES (%d, %d, '%s')"</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'delete'</span><span class="o">:</span>
      <span class="nf">db_query</span><span class="p">(</span><span class="s1">'DELETE FROM {cambridge_mediamap} WHERE nid = %d'</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'view'</span><span class="o">:</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">Returns</span> <span class="n">a</span> <span class="n">resized</span> <span class="n">embed</span> <span class="n">code</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_resize</span><span class="p">(</span><span class="nv">$embed</span> <span class="o">=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$embed</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">''</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">list</span><span class="p">(</span><span class="nv">$width</span><span class="p">,</span> <span class="nv">$height</span><span class="p">)</span> <span class="o">=</span> <span class="nf">cambridge_mediamap_get_embed_size</span><span class="p">(</span><span class="nv">$embed</span><span class="p">);</span>
  <span class="c1">//width/height ratio</span>
  <span class="nv">$width_to_height</span> <span class="o">=</span> <span class="nv">$width</span> <span class="o">/</span> <span class="nv">$height</span><span class="p">;</span>
  <span class="nv">$max_width</span> <span class="o">=</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_embed_width'</span><span class="p">,</span> <span class="s1">'320'</span><span class="p">);</span>
  <span class="nv">$max_height</span> <span class="o">=</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_embed_height'</span><span class="p">,</span> <span class="s1">'240'</span><span class="p">);</span>
  <span class="c1">//shrink down widths while maintaining proportion</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$width</span> <span class="o">&gt;=</span> <span class="nv">$height</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$width</span> <span class="o">&gt;</span> <span class="nv">$max_width</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="nv">$max_width</span><span class="p">;</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$width</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$height</span> <span class="o">&gt;</span> <span class="nv">$max_height</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="nv">$max_height</span><span class="p">;</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$height</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$height</span> <span class="o">&gt;</span> <span class="nv">$max_height</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="nv">$max_height</span><span class="p">;</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$height</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$width</span> <span class="o">&gt;</span> <span class="nv">$max_width</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$width</span> <span class="o">=</span> <span class="nv">$max_width</span><span class="p">;</span>
      <span class="nv">$height</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nv">$width_to_height</span><span class="p">)</span><span class="err">\</span> <span class="o">*</span> <span class="nv">$width</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nf">cambridge_mediamap_set_embed_size</span><span class="p">(</span><span class="nv">$embed</span><span class="p">,</span> <span class="nb">intval</span><span class="p">(</span><span class="nv">$width</span><span class="p">),</span> <span class="nb">intval</span><span class="p">(</span><span class="nv">$height</span><span class="p">));</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="n">find</span> <span class="n">out</span> <span class="n">what</span> <span class="n">size</span> <span class="n">the</span> <span class="n">embedded</span> <span class="n">thing</span> <span class="n">is</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_get_embed_size</span><span class="p">(</span><span class="nv">$html</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/]\*width(\s\*=\s\*"|:\s\*)(\d+)/i'</span><span class="p">,</span> <span class="nv">$html</span><span class="p">,</span> <span class="nv">$match_width</span><span class="p">);</span>
  <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/]\*height(\s\*=\s\*"|:\s\*)(\d+)/i'</span><span class="p">,</span> <span class="nv">$html</span><span class="p">,</span> <span class="nv">$match_height</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="nv">$match_width</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nv">$match_height</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="n">set</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">embeded</span> <span class="n">thing</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_set_embed_size</span><span class="p">(</span><span class="nv">$html</span><span class="p">,</span> <span class="nv">$width</span><span class="p">,</span> <span class="nv">$height</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$html</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'/(&lt;(embed|object)\s[^&gt;]\*width(\s\*=\s\*"|:\s\*))(\d+)/i'</span><span class="p">,</span> <span class="s1">'${1}'</span><span class="mf">.</span><span class="nv">$width</span><span class="p">,</span> <span class="nv">$html</span><span class="p">);</span>
  <span class="nv">$html</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'/(&lt;(embed|object)\s[^&gt;]\*height(\s\*=\s\*"|:\s\*))(\d+)/i'</span><span class="p">,</span> <span class="s1">'${1}'</span><span class="mf">.</span><span class="nv">$height</span><span class="p">,</span> <span class="nv">$html</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$html</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="n">returns</span> <span class="n">the</span> <span class="n">base</span> <span class="n">url</span> <span class="n">of</span> <span class="n">the</span> <span class="n">src</span> <span class="n">attribute</span><span class="mf">.</span><span class="err">\</span><span class="o">*</span><span class="n">youtube</span> <span class="o">=</span> <span class="n">www</span><span class="mf">.</span><span class="n">youtube</span><span class="mf">.</span><span class="n">com</span><span class="err">\</span> <span class="o">*</span> <span class="n">blip</span> <span class="o">=</span> <span class="n">blip</span><span class="mf">.</span><span class="n">tv</span><span class="err">\</span> <span class="o">*</span> <span class="n">google</span> <span class="n">video</span> <span class="o">=</span> <span class="n">video</span><span class="mf">.</span><span class="n">google</span><span class="mf">.</span><span class="n">com</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_get_embed_source</span><span class="p">(</span><span class="nv">$html</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/]\*src="http:\/\/([^\/"]+)/i'</span><span class="p">,</span> <span class="nv">$html</span><span class="p">,</span> <span class="nv">$match_src</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$match_src</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">Implementation</span> <span class="n">of</span> <span class="n">hook_form_alter</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_form_alter</span><span class="p">(</span><span class="nv">$form_id</span><span class="p">,</span> <span class="o">&amp;</span> <span class="nv">$form</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// We're only modifying node forms, if the type field isn't set we don't need</span>
  <span class="c1">// to bother.</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">isset</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">//disable the Gmap module's location map for unauthorized users</span>
  <span class="c1">//unfortunately Gmap.module doesn't have this setting</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">isset</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">'coordinates'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nf">user_access</span><span class="p">(</span><span class="s1">'modify node data'</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">unset</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">'coordinates'</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// Make a copy of the type to shorten up the code</span>
  <span class="nv">$type</span> <span class="o">=</span> <span class="nv">$form</span><span class="p">[</span><span class="s1">'type'</span><span class="p">][</span><span class="s1">'#value'</span><span class="p">];</span>
  <span class="c1">// Is the map enabled for this content type?</span>
  <span class="nv">$enabled</span> <span class="o">=</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_'</span><span class="mf">.</span><span class="nv">$type</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nv">$form_id</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// We need to have a way for administrators to indicate which content</span>
    <span class="c1">// types should have the additional media map information added.</span>
    <span class="k">case</span> <span class="nv">$type</span><span class="mf">.</span>
    <span class="s1">'_node_settings'</span><span class="o">:</span>
      <span class="nv">$form</span><span class="p">[</span><span class="s1">'workflow'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_'</span><span class="mf">.</span><span class="nv">$type</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'radios'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Cambridge Mediamap setting'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nv">$enabled</span><span class="p">,</span> <span class="s1">'#options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="mi">0</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Disabled'</span><span class="p">),</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Enabled'</span><span class="p">)),</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Allow the attaching of externally hosted imbedded video to be displayed in a map?'</span><span class="p">),</span> <span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nv">$type</span><span class="mf">.</span>
    <span class="s1">'_node_form'</span><span class="o">:</span>
      <span class="k">if</span> <span class="p">(</span><span class="nv">$enabled</span> <span class="o">&amp;&amp;</span> <span class="nf">user_access</span><span class="p">(</span><span class="s1">'modify node data'</span><span class="p">))</span> <span class="p">{</span>
        <span class="c1">//create the fieldset</span>
        <span class="nv">$form</span><span class="p">[</span><span class="s1">'cambridge_mediamap'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'fieldset'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Media Map'</span><span class="p">),</span> <span class="s1">'#collapsible'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="s1">'#collapsed'</span> <span class="o">=&gt;</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="s1">'#tree'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="p">);</span>
        <span class="c1">//insert the embed code</span>
        <span class="nv">$form</span><span class="p">[</span><span class="s1">'cambridge_mediamap'</span><span class="p">][</span><span class="s1">'embed'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'textarea'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Video Embed Code'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nv">$form</span><span class="p">[</span><span class="s1">'#node'</span><span class="p">]</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">],</span> <span class="s1">'#cols'</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'#rows'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Copy and paste the embed code from an external video or media hosting service'</span><span class="p">),</span> <span class="p">);</span>
        <span class="c1">//enable or disable on map</span>
        <span class="nv">$form</span><span class="p">[</span><span class="s1">'cambridge_mediamap'</span><span class="p">][</span><span class="s1">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'select'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Display this node'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nv">$form</span><span class="p">[</span><span class="s1">'#node'</span><span class="p">]</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'display'</span><span class="p">],</span> <span class="s1">'#options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'0'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Disable display'</span><span class="p">),</span> <span class="s1">'1'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Enable display'</span><span class="p">),</span> <span class="p">),</span> <span class="p">);</span>
      <span class="p">}</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">A</span> <span class="n">page</span> <span class="n">callback</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">the</span> <span class="n">map</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_map</span><span class="p">()</span> <span class="p">{</span>
  <span class="nv">$output</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
  <span class="c1">//Collect the nodes to be displayed</span>
  <span class="nv">$results</span> <span class="o">=</span> <span class="nf">db_query</span><span class="p">(</span><span class="s1">'SELECT embed, nid FROM {cambridge_mediamap} WHERE display = 1'</span><span class="p">);</span>
  <span class="c1">//Initialize our marker array</span>
  <span class="nv">$markers</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
  <span class="c1">//check to see what modules are enabled</span>
  <span class="nv">$location_enabled</span> <span class="o">=</span> <span class="nf">module_exist</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span>
  <span class="nv">$gmap_location_enabled</span> <span class="o">=</span> <span class="nf">module_exist</span><span class="p">(</span><span class="s1">'gmap_location'</span><span class="p">);</span>
  <span class="c1">//load each node and set it's attributes in the marker array</span>
  <span class="k">while</span> <span class="p">(</span><span class="nv">$item</span> <span class="o">=</span> <span class="nf">db_fetch_object</span><span class="p">(</span><span class="nv">$results</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$latitude</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nv">$longitude</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="c1">//load the node</span>
    <span class="nv">$node</span> <span class="o">=</span> <span class="nf">node_load</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'nid'</span> <span class="o">=&gt;</span> <span class="nv">$item</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">nid</span><span class="p">));</span>
    <span class="c1">//set the latitude and longitude</span>
    <span class="c1">//give location module data preference over gmap module data</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$location_enabled</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$latitude</span> <span class="o">=</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">location</span><span class="p">[</span><span class="s1">'latitude'</span><span class="p">];</span>
      <span class="nv">$longitude</span> <span class="o">=</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">location</span><span class="p">[</span><span class="s1">'longitude'</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">elseif</span><span class="p">(</span><span class="nv">$gmap_location_enabled</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$latitude</span> <span class="o">=</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">gmap_location_latitude</span><span class="p">;</span>
      <span class="nv">$longitude</span> <span class="o">=</span> <span class="nv">$node</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">gmap_location_longitude</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$latitude</span> <span class="o">&amp;&amp;</span> <span class="nv">$longitude</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$markers</span><span class="p">[]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="nf">theme</span><span class="p">(</span><span class="s1">'cambridge_mediamap_marker'</span><span class="p">,</span> <span class="nv">$node</span><span class="p">),</span> <span class="s1">'latitude'</span> <span class="o">=&gt;</span> <span class="nv">$latitude</span><span class="p">,</span> <span class="s1">'longitude'</span> <span class="o">=&gt;</span> <span class="nv">$longitude</span><span class="p">,</span> <span class="s1">'markername'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_marker'</span><span class="p">,</span> <span class="s1">'marker'</span><span class="p">),</span> <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nv">$latlon</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_latlong'</span><span class="p">,</span> <span class="s1">'42.369452,-71.100426'</span><span class="p">));</span>
  <span class="nv">$map</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="s1">'cambridge_mediamap'</span><span class="p">,</span> <span class="s1">'latitude'</span> <span class="o">=&gt;</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$latlon</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="s1">'longitude'</span> <span class="o">=&gt;</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$latlon</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">'width'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_width'</span><span class="p">,</span> <span class="s1">'100%'</span><span class="p">),</span> <span class="s1">'height'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_height'</span><span class="p">,</span> <span class="s1">'500px'</span><span class="p">),</span> <span class="s1">'zoom'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_zoom'</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="s1">'control'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_control'</span><span class="p">,</span> <span class="s1">'Large'</span><span class="p">),</span> <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_type'</span><span class="p">,</span> <span class="s1">'Satellite'</span><span class="p">),</span> <span class="s1">'markers'</span> <span class="o">=&gt;</span> <span class="nv">$markers</span><span class="p">,</span> <span class="p">);</span>
  <span class="k">return</span> <span class="nf">gmap_draw_map</span><span class="p">(</span><span class="nv">$map</span><span class="p">);</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">A</span> <span class="n">theme</span>
<span class="k">function</span>
<span class="n">for</span> <span class="n">our</span> <span class="n">markers</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">theme_cambridge_mediamap_marker</span><span class="p">(</span><span class="nv">$node</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$output</span> <span class="o">=</span> <span class="s1">'
  '</span><span class="p">;</span>
  <span class="nv">$output</span><span class="mf">.</span> <span class="o">=</span> <span class="s1">'
  '</span> <span class="mf">.</span> <span class="nf">l</span><span class="p">(</span><span class="nv">$node</span><span class="o">-&gt;</span><span class="n">title</span><span class="p">,</span> <span class="s1">'
  node / '</span> <span class="mf">.</span> <span class="nv">$node</span><span class="o">-&gt;</span><span class="n">nid</span><span class="p">)</span> <span class="mf">.</span> <span class="s1">'
  '</span><span class="p">;</span>
  <span class="nv">$output</span><span class="mf">.</span> <span class="o">=</span> <span class="s1">'
  '</span> <span class="mf">.</span> <span class="nv">$node</span><span class="o">-&gt;</span><span class="n">cambridge_mediamap</span><span class="p">[</span><span class="s1">'
  embed_resize '</span><span class="p">]</span> <span class="mf">.</span> <span class="s1">'
  '</span><span class="p">;</span>
  <span class="nv">$output</span><span class="mf">.</span> <span class="o">=</span> <span class="s1">'
  '</span><span class="p">;</span>
  <span class="k">return</span> <span class="nv">$output</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">Settings</span> <span class="n">page</span><span class="err">\</span> <span class="o">*</span> <span class="o">/</span>

<span class="k">function</span> <span class="n">cambridge_mediamap_settings</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Cambridge data</span>
  <span class="c1">// latitude = 42.369452</span>
  <span class="c1">// longitude = -71.100426</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'fieldset'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default map settings'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_width'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'textfield'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default width'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_width'</span><span class="p">,</span> <span class="s1">'100%'</span><span class="p">),</span> <span class="s1">'#size'</span> <span class="o">=&gt;</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">'#maxlength'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'The default width of a Google map. Either px or %'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_height'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'textfield'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default height'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_height'</span><span class="p">,</span> <span class="s1">'500px'</span><span class="p">),</span> <span class="s1">'#size'</span> <span class="o">=&gt;</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">'#maxlength'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'The default height of Mediamap. In px.'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_latlong'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'textfield'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default center'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_latlong'</span><span class="p">,</span> <span class="s1">'42.369452,-71.100426'</span><span class="p">),</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="s1">'The decimal latitude,longitude of the centre of the map. The "." is used for decimal, and "," is used to separate latitude and longitude.'</span><span class="p">,</span> <span class="s1">'#size'</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">'#maxlength'</span> <span class="o">=&gt;</span> <span class="mi">255</span><span class="p">,</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'The default longitude, latitude of Mediamap.'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_zoom'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'select'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default zoom'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_zoom'</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="s1">'#options'</span> <span class="o">=&gt;</span> <span class="nf">drupal_map_assoc</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">17</span><span class="p">)),</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'The default zoom level of Mediamap.'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_control'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'select'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default control type'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_control'</span><span class="p">,</span> <span class="s1">'Large'</span><span class="p">),</span> <span class="s1">'#options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'None'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'None'</span><span class="p">),</span> <span class="s1">'Small'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Small'</span><span class="p">),</span> <span class="s1">'Large'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Large'</span><span class="p">)),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_type'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'select'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default map type'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_type'</span><span class="p">,</span> <span class="s1">'Satellite'</span><span class="p">),</span> <span class="s1">'#options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Map'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Map'</span><span class="p">),</span> <span class="s1">'Satellite'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Satellite'</span><span class="p">),</span> <span class="s1">'Hybrid'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Hybrid'</span><span class="p">)),</span> <span class="p">);</span>
  <span class="nv">$markers</span> <span class="o">=</span> <span class="nf">gmap_get_markers</span><span class="p">();</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'defaults'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_default_marker'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'select'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Marker'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_default_marker'</span><span class="p">,</span> <span class="s1">'marker'</span><span class="p">),</span> <span class="s1">'#options'</span> <span class="o">=&gt;</span> <span class="nv">$markers</span><span class="p">,</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'fieldset'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default embedded video settings'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_embed_width'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'textfield'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default width'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_embed_width'</span><span class="p">,</span> <span class="s1">'320'</span><span class="p">),</span> <span class="s1">'#size'</span> <span class="o">=&gt;</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">'#maxlength'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'The maximum width of embedded video'</span><span class="p">),</span> <span class="p">);</span>
  <span class="nv">$form</span><span class="p">[</span><span class="s1">'embed'</span><span class="p">][</span><span class="s1">'cambridge_mediamap_embed_height'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'#type'</span> <span class="o">=&gt;</span> <span class="s1">'textfield'</span><span class="p">,</span> <span class="s1">'#title'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'Default height'</span><span class="p">),</span> <span class="s1">'#default_value'</span> <span class="o">=&gt;</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'cambridge_mediamap_embed_height'</span><span class="p">,</span> <span class="s1">'240'</span><span class="p">),</span> <span class="s1">'#size'</span> <span class="o">=&gt;</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">'#maxlength'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'#description'</span> <span class="o">=&gt;</span> <span class="nf">t</span><span class="p">(</span><span class="s1">'The maximum height of embedded video.'</span><span class="p">),</span> <span class="p">);</span>
  <span class="k">return</span> <span class="nv">$form</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">/</span><span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="err">\</span> <span class="o">*</span> <span class="nc">Prints</span> <span class="n">human</span> <span class="o">-</span> <span class="nf">readable</span><span class="p">(</span><span class="n">html</span><span class="p">)</span> <span class="n">information</span> <span class="n">about</span> <span class="n">a</span> <span class="n">variable</span><span class="mf">.</span><span class="err">\</span><span class="o">*</span><span class="kn">Use</span><span class="o">:</span> <span class="k">print</span> <span class="nf">debug</span><span class="p">(</span><span class="nv">$variable_name</span><span class="p">);</span><span class="err">\</span> <span class="o">*</span> <span class="k">Or</span> <span class="n">assign</span> <span class="n">output</span> <span class="n">to</span> <span class="n">a</span> <span class="n">variable</span><span class="mf">.</span><span class="err">\</span><span class="o">*/</span>

<span class="k">function</span> <span class="n">debug</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s2">"/\s/"</span><span class="p">,</span> <span class="s2">" "</span><span class="p">,</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s2">"/</span><span class="se">\n</span><span class="s2">/"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="nb">print_r</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="kc">true</span><span class="p">)));</span>
<span class="p">}</span>
</code></pre></div></div>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/08/Walkabout-Trail-RI.html"><p>Walkabout Trail, RI</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-08-01T00:00:00+00:00" itemprop="datePublished">August 1, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#friends">friends</a>, <a href="/tags/#frogs">frogs</a>, <a href="/tags/#hiking">hiking</a>, and <a href="/tags/#mossy">mossy</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><a href="http://www.flickr.com/photos/bensheldon/819325062/" title="Photo Sharing"> <img src="http://farm2.static.flickr.com/1327/819325062_64e6660ffa_m.jpg" alt="Frog" /> </a> <a href="http://www.flickr.com/photos/bensheldon/818413293/" title="Photo Sharing"> <img src="http://farm2.static.flickr.com/1054/818413293_f3c656f1ce_m.jpg" alt="Helen sees something" /> </a></p>

<p>A few weeks ago I hiked the <a href="http://www.google.com/maps?q=Providence,+RI,+USA&amp;ie=UTF8&amp;ll=41.92353,-71.75776&amp;spn=0.00372,0.009388&amp;t=h&amp;z=17&amp;om=1">Walkabout Trail</a> in Northwestern Rhode Island with my friend <a href="http://flickr.com/photos/helenday/">Helen</a>. The trail was gorgeously green and mossy with many fun frogs, toads and critters. We hiked the eight miles (which cuts for shorter walks) in a little over three hours, which was a great pace leading up to a cooling swim in the adjoining pond afterwards.</p>

<p><a href="http://flickr.com/photos/bensheldon/sets/72157600835146342/"> <img src="/uploads/2007-08/walkabout-trail.png" alt="" /> </a></p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/07/Should-I-get-a-nonprofit-job.html"><p>“Should I get a nonprofit job?”</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-07-19T00:00:00+00:00" itemprop="datePublished">July 19, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#advice">advice</a>, <a href="/tags/#career">career</a>, <a href="/tags/#nonprofit">nonprofit</a>, and <a href="/tags/#strategy">strategy</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I have a lot of friends and acquaintances considering a job in the nonprofit sector. I’ve been employed within small (under $2 million budgets), community nonprofit organizations for three years now, beginning straight out of college, but have also talked to many people with many different experiences and histories in the sector and outside of it about their experiences. The following is my boilerplate advice to people that asks me about working, or finding work, within nonprofits.</p>

<p>Assuming that you are an intelligent, well-educated (or seeking to be), self-motivated and upwardly mobile individual, your interest probably spans a combination of two distinct (or should be in your mind) issues:</p>

<ul>
  <li>You want a job, with a modicum of stability, freedom, and disposable income.</li>
  <li>You want to change the world, or a least do it less harm than otherwise.</li>
</ul>

<p><strong>My advice for you:</strong></p>

<blockquote>
  <p>Find a corporate job that you like, or don’t feel too guilty about, and that provides you with plenty of disposable income and time. Find a small, local nonprofit (or church, or social group) that meets your standards for doing good, and invest your disposable income and time with them. Join their governing board, connect them with your professional and personal networks and help them grow in a direction you believe in. You will enact more change from a higher level than you could, in most situations, by being a direct employee of that organization.</p>
</blockquote>

<p><strong>Non-categorical rationale:</strong></p>

<p>Nonprofits have jobs, but they don’t have a lot of them and it’s hard to break into one that distinguishes you from your peers: you can find a job answering phones, but it’s difficult to get one with responsibility and authority. Nonprofits are bad (or relatively worse than their commercial peers) at: recognizing ability, enabling it, and rewarding it.</p>

<p>Nonprofits are insulating. Because you are constantly understaffed, under-budgeted and under-resourced (time, training, equipment) it is difficult to find the time to truly reflect. It is difficult to critically look at what you are doing and what you have done; to connect with other practitioners and look at what you are doing as a group; to reach outside the sector to learn from others and see how you fit into that broadest context.</p>

<p>A job is a job, wherever you’re working. This may sound selfish (and it probably is) but you should be concerned that, whatever your job is, you:</p>

<ol>
  <li>are challenged</li>
  <li>are encouraged to try and learn new things</li>
  <li>are acknowledged (even celebrated on occassion)</li>
  <li>can advance to greater responsibility and authority</li>
  <li>are provided a separate personal life</li>
  <li>are afforded physical and mental health (no 80 hour weeks or screaming matches)</li>
  <li>have fun or enjoy your work a majority of the time (no puritan work ethic for me)</li>
</ol>

<p>By looking after yourself on an individual level, you will ultimately be in a better position to have compassion for those around you and be better positioned to act upon that compassion.</p>

  </div>
</article>

    

    <hr>
  
    
      

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">
      <a class="post-link" href="/2007/07/Planning-Strategic-Planning.html"><p>Planning Strategic Planning</p>
</a>
    </h1>
    <p class="post-meta text-muted">
      <time datetime="2007-07-15T00:00:00+00:00" itemprop="datePublished">July 15, 2007</time>
      
      


  

  

  • Tagged <a href="/tags/#advice">advice</a>, <a href="/tags/#nonprofit">nonprofit</a>, and <a href="/tags/#strategic_planning">strategic planning</a>


    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>At work I have been furiously engaged in strategic planning in advance of some major grant-writing. This process is a continuation from some vine-withered efforts my coworker and I had made last fall, but due to some changing circumstances—a better understanding of the existing processes at play and increased authority to manage the outcomes—this most recent effort is bearing more fruit.</p>

<p>Perhaps the largest set-back to our strategic planning projects has been <em>the planning of our strategic planning</em>. Without having to recurse infinitely backwards, perhaps the most important things I’ve learned are:</p>

<ul>
  <li>
    <p><strong>Strategic planning relies on individuals.</strong> Strategic planning usually requires the actions of a single, or a small handful of individuals that not only are motivated, but have the resources and authority (or the full backing of someone with authority) to proceed. This is not to diminish the value of <a href="http://en.wikipedia.org/wiki/Swot_analysis">SWOT</a> or <a href="http://en.wikipedia.org/wiki/SMART_(project_management)">SMART</a>, but to reaffirm that strategic planning relies upon someone to begin the process, facilitate it, and ensure that its outcomes are useful.</p>
  </li>
  <li>
    <p><strong>Strategic planning should build on your strengths.</strong> There is a tendency to relegate strategic planning activities to weak periods or to use it to shore up areas that are perceived lacking. This often means that you aren’t able to properly recognize what led to successful periods or why certain components succeeded.</p>
  </li>
  <li>
    <p><strong>Define goals by need, not by resources or activities.</strong> Perhaps due to the tendency to use strategic planning to shore up weaknesses, goals are often defined narrowly out of current activities. Rather, goals should be widest effect you hope to enact. Just because a program’s goals are narrow does not mean that an organization cannot hope to affect a broader mission; or that a program cannot target only a single need within a much larger issue.</p>
  </li>
</ul>

<p>These three pieces come from my own experience with strategic planning, but I do like that they tie in nicely with much broader advice on philanthropy from Peter Drucker (via <a href="http://giving.typepad.com/theworldwewant/2006/05/update_on_the_w.html">The World We Want</a>):</p>

<ol>
  <li>
    <p>Fund extraordinary people, not institutions.</p>
  </li>
  <li>
    <p>Build on islands of health, not problems to be solved.</p>
  </li>
  <li>
    <p>Get big or get gone. Scale up to the size of the need, not down to the resources available.</p>
  </li>
</ol>

<p>(I’m always looking this quote up for a variety of reasons, so for simplicities sake I figure I should just post it here.)</p>

  </div>
</article>

    

    
  

  
<hr>


<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    
      <li class="page-item"><a href="/page/56/" class="page-link"><span aria-hidden="true">&larr; </span>Newer</a></li>
    

    <li class="page-item disabled"><span class="page-link">Page 57 of 67</span></li>

    
      <li class="page-item"><a href="/page/58/" class="page-link">Older<span aria-hidden="true"> &rarr;</span></a></li>
    
  </ul>
</nav>



</div>

    </div>

    <footer class="site-footer">

</footer>


  </body>

</html>
